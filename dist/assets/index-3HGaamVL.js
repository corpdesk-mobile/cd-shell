const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CXkyVQM2.js","assets/cd-directive-binder.service-DGbLY5eG.js","assets/index-BEx0eJtE.js","assets/index-Cx-20rOu.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vl(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Hr;(function(n){(function(e){var t=typeof globalThis=="object"?globalThis:typeof $t=="object"?$t:typeof self=="object"?self:typeof this=="object"?this:a(),r=i(n);typeof t.Reflect<"u"&&(r=i(t.Reflect,r)),e(r,t),typeof t.Reflect>"u"&&(t.Reflect=n);function i(c,l){return function(u,m){Object.defineProperty(c,u,{configurable:!0,writable:!0,value:m}),l&&l(u,m)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,t){var r=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!a&&!c,u={create:a?function(){return Zt(Object.create(null))}:c?function(){return Zt({__proto__:null})}:function(){return Zt({})},has:l?function(d,p){return r.call(d,p)}:function(d,p){return p in d},get:l?function(d,p){return r.call(d,p)?d[p]:void 0}:function(d,p){return d[p]}},m=Object.getPrototypeOf(Function),C=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Ui(),P=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ki(),y=typeof WeakMap=="function"?WeakMap:ji(),E=i?Symbol.for("@reflect-metadata:registry"):void 0,A=Li(),R=Di(A);function F(d,p,v,w){if(O(v)){if(!J(d))throw new TypeError;if(!Me(p))throw new TypeError;return ae(d,p)}else{if(!J(d))throw new TypeError;if(!b(p))throw new TypeError;if(!b(w)&&!O(w)&&!f(w))throw new TypeError;return f(w)&&(w=void 0),v=$(v),me(d,p,v,w)}}e("decorate",F);function j(d,p){function v(w,D){if(!b(w))throw new TypeError;if(!O(D)&&!ze(D))throw new TypeError;le(d,p,w,D)}return v}e("metadata",j);function W(d,p,v,w){if(!b(v))throw new TypeError;return O(w)||(w=$(w)),le(d,p,v,w)}e("defineMetadata",W);function H(d,p,v){if(!b(p))throw new TypeError;return O(v)||(v=$(v)),ce(d,p,v)}e("hasMetadata",H);function K(d,p,v){if(!b(p))throw new TypeError;return O(v)||(v=$(v)),Se(d,p,v)}e("hasOwnMetadata",K);function X(d,p,v){if(!b(p))throw new TypeError;return O(v)||(v=$(v)),Z(d,p,v)}e("getMetadata",X);function pe(d,p,v){if(!b(p))throw new TypeError;return O(v)||(v=$(v)),Re(d,p,v)}e("getOwnMetadata",pe);function he(d,p){if(!b(d))throw new TypeError;return O(p)||(p=$(p)),_e(d,p)}e("getMetadataKeys",he);function be(d,p){if(!b(d))throw new TypeError;return O(p)||(p=$(p)),ue(d,p)}e("getOwnMetadataKeys",be);function we(d,p,v){if(!b(p))throw new TypeError;if(O(v)||(v=$(v)),!b(p))throw new TypeError;O(v)||(v=$(v));var w=ot(p,v,!1);return O(w)?!1:w.OrdinaryDeleteMetadata(d,p,v)}e("deleteMetadata",we);function ae(d,p){for(var v=d.length-1;v>=0;--v){var w=d[v],D=w(p);if(!O(D)&&!f(D)){if(!Me(D))throw new TypeError;p=D}}return p}function me(d,p,v,w){for(var D=d.length-1;D>=0;--D){var ee=d[D],ie=ee(p,v,w);if(!O(ie)&&!f(ie)){if(!b(ie))throw new TypeError;w=ie}}return w}function ce(d,p,v){var w=Se(d,p,v);if(w)return!0;var D=At(p);return f(D)?!1:ce(d,D,v)}function Se(d,p,v){var w=ot(p,v,!1);return O(w)?!1:V(w.OrdinaryHasOwnMetadata(d,p,v))}function Z(d,p,v){var w=Se(d,p,v);if(w)return Re(d,p,v);var D=At(p);if(!f(D))return Z(d,D,v)}function Re(d,p,v){var w=ot(p,v,!1);if(!O(w))return w.OrdinaryGetOwnMetadata(d,p,v)}function le(d,p,v,w){var D=ot(v,w,!0);D.OrdinaryDefineOwnMetadata(d,p,v,w)}function _e(d,p){var v=ue(d,p),w=At(d);if(w===null)return v;var D=_e(w,p);if(D.length<=0)return v;if(v.length<=0)return D;for(var ee=new P,ie=[],N=0,T=v;N<T.length;N++){var _=T[N],M=ee.has(_);M||(ee.add(_),ie.push(_))}for(var I=0,q=D;I<q.length;I++){var _=q[I],M=ee.has(_);M||(ee.add(_),ie.push(_))}return ie}function ue(d,p){var v=ot(d,p,!1);return v?v.OrdinaryOwnMetadataKeys(d,p):[]}function de(d){if(d===null)return 1;switch(typeof d){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return d===null?1:6;default:return 6}}function O(d){return d===void 0}function f(d){return d===null}function g(d){return typeof d=="symbol"}function b(d){return typeof d=="object"?d!==null:typeof d=="function"}function k(d,p){switch(de(d)){case 0:return d;case 1:return d;case 2:return d;case 3:return d;case 4:return d;case 5:return d}var v="string",w=ke(d,o);if(w!==void 0){var D=w.call(d,v);if(b(D))throw new TypeError;return D}return z(d)}function z(d,p){var v,w,D;{var ee=d.toString;if(ne(ee)){var w=ee.call(d);if(!b(w))return w}var v=d.valueOf;if(ne(v)){var w=v.call(d);if(!b(w))return w}}throw new TypeError}function V(d){return!!d}function x(d){return""+d}function $(d){var p=k(d);return g(p)?p:x(p)}function J(d){return Array.isArray?Array.isArray(d):d instanceof Object?d instanceof Array:Object.prototype.toString.call(d)==="[object Array]"}function ne(d){return typeof d=="function"}function Me(d){return typeof d=="function"}function ze(d){switch(de(d)){case 3:return!0;case 4:return!0;default:return!1}}function Oe(d,p){return d===p||d!==d&&p!==p}function ke(d,p){var v=d[p];if(v!=null){if(!ne(v))throw new TypeError;return v}}function vt(d){var p=ke(d,s);if(!ne(p))throw new TypeError;var v=p.call(d);if(!b(v))throw new TypeError;return v}function bt(d){return d.value}function S(d){var p=d.next();return p.done?!1:p}function St(d){var p=d.return;p&&p.call(d)}function At(d){var p=Object.getPrototypeOf(d);if(typeof d!="function"||d===m||p!==m)return p;var v=d.prototype,w=v&&Object.getPrototypeOf(v);if(w==null||w===Object.prototype)return p;var D=w.constructor;return typeof D!="function"||D===d?p:D}function Ri(){var d;!O(E)&&typeof t.Reflect<"u"&&!(E in t.Reflect)&&typeof t.Reflect.defineMetadata=="function"&&(d=$i(t.Reflect));var p,v,w,D=new y,ee={registerProvider:ie,getProvider:T,setProvider:M};return ee;function ie(I){if(!Object.isExtensible(ee))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case d===I:break;case O(p):p=I;break;case p===I:break;case O(v):v=I;break;case v===I:break;default:w===void 0&&(w=new P),w.add(I);break}}function N(I,q){if(!O(p)){if(p.isProviderFor(I,q))return p;if(!O(v)){if(v.isProviderFor(I,q))return p;if(!O(w))for(var Y=vt(w);;){var te=S(Y);if(!te)return;var Ee=bt(te);if(Ee.isProviderFor(I,q))return St(Y),Ee}}}if(!O(d)&&d.isProviderFor(I,q))return d}function T(I,q){var Y=D.get(I),te;return O(Y)||(te=Y.get(q)),O(te)&&(te=N(I,q),O(te)||(O(Y)&&(Y=new C,D.set(I,Y)),Y.set(q,te))),te}function _(I){if(O(I))throw new TypeError;return p===I||v===I||!O(w)&&w.has(I)}function M(I,q,Y){if(!_(Y))throw new Error("Metadata provider not registered.");var te=T(I,q);if(te!==Y){if(!O(te))return!1;var Ee=D.get(I);O(Ee)&&(Ee=new C,D.set(I,Ee)),Ee.set(q,Y)}return!0}}function Li(){var d;return!O(E)&&b(t.Reflect)&&Object.isExtensible(t.Reflect)&&(d=t.Reflect[E]),O(d)&&(d=Ri()),!O(E)&&b(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,E,{enumerable:!1,configurable:!1,writable:!1,value:d}),d}function Di(d){var p=new y,v={isProviderFor:function(_,M){var I=p.get(_);return O(I)?!1:I.has(M)},OrdinaryDefineOwnMetadata:ie,OrdinaryHasOwnMetadata:D,OrdinaryGetOwnMetadata:ee,OrdinaryOwnMetadataKeys:N,OrdinaryDeleteMetadata:T};return A.registerProvider(v),v;function w(_,M,I){var q=p.get(_),Y=!1;if(O(q)){if(!I)return;q=new C,p.set(_,q),Y=!0}var te=q.get(M);if(O(te)){if(!I)return;if(te=new C,q.set(M,te),!d.setProvider(_,M,v))throw q.delete(M),Y&&p.delete(_),new Error("Wrong provider for target.")}return te}function D(_,M,I){var q=w(M,I,!1);return O(q)?!1:V(q.has(_))}function ee(_,M,I){var q=w(M,I,!1);if(!O(q))return q.get(_)}function ie(_,M,I,q){var Y=w(I,q,!0);Y.set(_,M)}function N(_,M){var I=[],q=w(_,M,!1);if(O(q))return I;for(var Y=q.keys(),te=vt(Y),Ee=0;;){var qr=S(te);if(!qr)return I.length=Ee,I;var xi=bt(qr);try{I[Ee]=xi}catch(Fi){try{St(te)}finally{throw Fi}}Ee++}}function T(_,M,I){var q=w(M,I,!1);if(O(q)||!q.delete(_))return!1;if(q.size===0){var Y=p.get(M);O(Y)||(Y.delete(I),Y.size===0&&p.delete(Y))}return!0}}function $i(d){var p=d.defineMetadata,v=d.hasOwnMetadata,w=d.getOwnMetadata,D=d.getOwnMetadataKeys,ee=d.deleteMetadata,ie=new y,N={isProviderFor:function(T,_){var M=ie.get(T);return!O(M)&&M.has(_)?!0:D(T,_).length?(O(M)&&(M=new P,ie.set(T,M)),M.add(_),!0):!1},OrdinaryDefineOwnMetadata:p,OrdinaryHasOwnMetadata:v,OrdinaryGetOwnMetadata:w,OrdinaryOwnMetadataKeys:D,OrdinaryDeleteMetadata:ee};return N}function ot(d,p,v){var w=A.getProvider(d,p);if(!O(w))return w;if(v){if(A.setProvider(d,p,R))return R;throw new Error("Illegal state.")}}function Ui(){var d={},p=[],v=function(){function N(T,_,M){this._index=0,this._keys=T,this._values=_,this._selector=M}return N.prototype["@@iterator"]=function(){return this},N.prototype[s]=function(){return this},N.prototype.next=function(){var T=this._index;if(T>=0&&T<this._keys.length){var _=this._selector(this._keys[T],this._values[T]);return T+1>=this._keys.length?(this._index=-1,this._keys=p,this._values=p):this._index++,{value:_,done:!1}}return{value:void 0,done:!0}},N.prototype.throw=function(T){throw this._index>=0&&(this._index=-1,this._keys=p,this._values=p),T},N.prototype.return=function(T){return this._index>=0&&(this._index=-1,this._keys=p,this._values=p),{value:T,done:!0}},N}(),w=function(){function N(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(N.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),N.prototype.has=function(T){return this._find(T,!1)>=0},N.prototype.get=function(T){var _=this._find(T,!1);return _>=0?this._values[_]:void 0},N.prototype.set=function(T,_){var M=this._find(T,!0);return this._values[M]=_,this},N.prototype.delete=function(T){var _=this._find(T,!1);if(_>=0){for(var M=this._keys.length,I=_+1;I<M;I++)this._keys[I-1]=this._keys[I],this._values[I-1]=this._values[I];return this._keys.length--,this._values.length--,Oe(T,this._cacheKey)&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},N.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},N.prototype.keys=function(){return new v(this._keys,this._values,D)},N.prototype.values=function(){return new v(this._keys,this._values,ee)},N.prototype.entries=function(){return new v(this._keys,this._values,ie)},N.prototype["@@iterator"]=function(){return this.entries()},N.prototype[s]=function(){return this.entries()},N.prototype._find=function(T,_){if(!Oe(this._cacheKey,T)){this._cacheIndex=-1;for(var M=0;M<this._keys.length;M++)if(Oe(this._keys[M],T)){this._cacheIndex=M;break}}return this._cacheIndex<0&&_&&(this._cacheIndex=this._keys.length,this._keys.push(T),this._values.push(void 0)),this._cacheIndex},N}();return w;function D(N,T){return N}function ee(N,T){return T}function ie(N,T){return[N,T]}}function ki(){var d=function(){function p(){this._map=new C}return Object.defineProperty(p.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),p.prototype.has=function(v){return this._map.has(v)},p.prototype.add=function(v){return this._map.set(v,v),this},p.prototype.delete=function(v){return this._map.delete(v)},p.prototype.clear=function(){this._map.clear()},p.prototype.keys=function(){return this._map.keys()},p.prototype.values=function(){return this._map.keys()},p.prototype.entries=function(){return this._map.entries()},p.prototype["@@iterator"]=function(){return this.keys()},p.prototype[s]=function(){return this.keys()},p}();return d}function ji(){var d=16,p=u.create(),v=w();return function(){function T(){this._key=w()}return T.prototype.has=function(_){var M=D(_,!1);return M!==void 0?u.has(M,this._key):!1},T.prototype.get=function(_){var M=D(_,!1);return M!==void 0?u.get(M,this._key):void 0},T.prototype.set=function(_,M){var I=D(_,!0);return I[this._key]=M,this},T.prototype.delete=function(_){var M=D(_,!1);return M!==void 0?delete M[this._key]:!1},T.prototype.clear=function(){this._key=w()},T}();function w(){var T;do T="@@WeakMap@@"+N();while(u.has(p,T));return p[T]=!0,T}function D(T,_){if(!r.call(T,v)){if(!_)return;Object.defineProperty(T,v,{value:u.create()})}return T[v]}function ee(T,_){for(var M=0;M<_;++M)T[M]=Math.random()*255|0;return T}function ie(T){if(typeof Uint8Array=="function"){var _=new Uint8Array(T);return typeof crypto<"u"?crypto.getRandomValues(_):typeof msCrypto<"u"?msCrypto.getRandomValues(_):ee(_,T),_}return ee(new Array(T),T)}function N(){var T=ie(d);T[6]=T[6]&79|64,T[8]=T[8]&191|128;for(var _="",M=0;M<d;++M){var I=T[M];(M===4||M===6||M===8)&&(_+="-"),I<16&&(_+="0"),_+=I.toString(16).toLowerCase()}return _}}function Zt(d){return d.__=void 0,delete d.__,d}})})(Hr||(Hr={}));/*!
* metismenujs - v1.4.0
* MetisMenu: Collapsible menu plugin with Vanilla-JS
* https://github.com/onokumus/metismenujs#readme
*
* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* Under MIT License
*/const Ni={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},wt={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class Ut{constructor(e,t){this.element=Ut.isElement(e)?e:document.querySelector(e),this.config=Object.assign(Object.assign({},Ni),t),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(e,t){return new Ut(e,t)}init(){const{METIS:e,ACTIVE:t,COLLAPSE:r}=wt;this.element.classList.add(e);const i=[...this.element.querySelectorAll(this.config.subMenu)];i.length!==0&&i.forEach(o=>{o.classList.add(r);const s=o.closest(this.config.parentTrigger);s!=null&&s.classList.contains(t)?this.show(o):this.hide(o);const a=s==null?void 0:s.querySelector(this.config.triggerElement);(a==null?void 0:a.getAttribute("aria-disabled"))!=="true"&&(a==null||a.setAttribute("aria-expanded","false"),a==null||a.addEventListener("click",this.boundEventHandler),this.triggerArr.push(a))})}clickEvent(e){if(!this.disposed){const t=e==null?void 0:e.currentTarget;t&&t.tagName==="A"&&e.preventDefault();const r=t.closest(this.config.parentTrigger),i=r==null?void 0:r.querySelector(this.config.subMenu);this.toggle(i)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(e=>{e.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(e,t,r){return this.element.addEventListener(e,t,r),this}off(e,t,r){return this.element.removeEventListener(e,t,r),this}emit(e,t,r=!1){const i=new CustomEvent(e,{bubbles:r,detail:t});this.element.dispatchEvent(i)}toggle(e){const t=e.closest(this.config.parentTrigger);t!=null&&t.classList.contains(wt.ACTIVE)?this.hide(e):this.show(e)}show(e){var t;const r=e,{ACTIVE:i,COLLAPSE:o,COLLAPSED:s,COLLAPSING:a,SHOW:c}=wt;if(this.isTransitioning||r.classList.contains(a))return;const l=()=>{r.classList.remove(a),r.style.height="",r.removeEventListener("transitionend",l),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:r})},u=r.closest(this.config.parentTrigger);u==null||u.classList.add(i);const m=u==null?void 0:u.querySelector(this.config.triggerElement);m==null||m.setAttribute("aria-expanded","true"),m==null||m.classList.remove(s),r.style.height="0px",r.classList.remove(o),r.classList.remove(c),r.classList.add(a);const C=[].slice.call((t=u==null?void 0:u.parentNode)===null||t===void 0?void 0:t.children).filter(P=>P!==u);this.config.toggle&&C.length>0&&C.forEach(P=>{const y=P.querySelector(this.config.subMenu);y&&this.hide(y)}),this.setTransitioning(!0),r.classList.add(o),r.classList.add(c),r.style.height=`${r.scrollHeight}px`,this.emit("show.metisMenu",{showElement:r}),r.addEventListener("transitionend",l)}hide(e){const{ACTIVE:t,COLLAPSE:r,COLLAPSED:i,COLLAPSING:o,SHOW:s}=wt,a=e;if(this.isTransitioning||!a.classList.contains(s))return;this.emit("hide.metisMenu",{hideElement:a});const c=a.closest(this.config.parentTrigger);c==null||c.classList.remove(t);const l=()=>{a.classList.remove(o),a.classList.add(r),a.style.height="",a.removeEventListener("transitionend",l),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:a})};a.style.height=`${a.getBoundingClientRect().height}px`,a.style.height=`${a.offsetHeight}px`,a.classList.add(o),a.classList.remove(r),a.classList.remove(s),this.setTransitioning(!0),a.addEventListener("transitionend",l),a.style.height="0px";const u=c==null?void 0:c.querySelector(this.config.triggerElement);u==null||u.setAttribute("aria-expanded","false"),u==null||u.classList.add(i)}setTransitioning(e){this.isTransitioning=e}static isElement(e){return!!e.classList}}function zr(n){return new Promise((e,t)=>{if(document.querySelector(`link[href="${n}"]`))return e();const r=document.createElement("link");r.rel="stylesheet",r.href=n,r.onload=()=>e(),r.onerror=()=>t(new Error(`Failed to load CSS: ${n}`)),document.head.appendChild(r)})}function Bi(n){return new Promise((e,t)=>{if(document.querySelector(`script[src="${n}"]`))return e();const r=document.createElement("script");r.src=n,r.async=!0,r.onload=()=>e(),r.onerror=()=>t(new Error(`Failed to load script: ${n}`)),document.head.appendChild(r)})}class qi{constructor(){this.instance=null}async initialize(e,t){await zr("https://cdn.jsdelivr.net/npm/metismenujs/dist/metismenujs.min.css"),await Bi("https://cdn.jsdelivr.net/npm/metismenujs/dist/metismenujs.min.js"),await zr(`/themes/${t}/menu-systems/metismenu.css`);const r=document.getElementById(e);if(!r)return;const i=r.querySelector("ul.cd-menu-root");if(!i)return;if(this.transformForMetisMenu(i),!document.getElementById("menu")){console.error("[MetisMenuAdapter] FATAL: Failed to find element with ID 'menu' after transformation. MetisMenu will not bind.");return}this.instance=new Ut("#menu")}destroy(){}transformForMetisMenu(e){e.classList.remove("cd-menu-root"),e.classList.add("metismenu"),e.setAttribute("id","menu"),e.querySelectorAll(".cd-menu-item").forEach(t=>{const r=t.querySelector(".cd-menu-link"),i=t.querySelector(".cd-menu-label"),o=t.getAttribute("data-route")||"#",s=t.getAttribute("data-icon"),a=t.querySelector("ul");let c=null;if(s)try{const l=atob(s);c=JSON.parse(l)}catch(l){console.warn("Failed to decode or parse icon metadata",l)}if(r&&i){const l=r.querySelector(".cd-menu-toggle-icon");if(l&&l.remove(),r.innerHTML="",r.href=a?"#":`/${o}`,c){const m=this.createIconElement(c);m&&(m.classList.add("menu-icon"),r.appendChild(m))}const u=document.createElement("span");if(u.classList.add("cd-menu-label"),u.textContent=i.textContent||"",r.appendChild(u),a){r.classList.add("has-arrow"),r.setAttribute("aria-expanded","false");const m=document.createElement("i");m.classList.add("menu-arrow","fa-solid","fa-chevron-right"),r.appendChild(m)}}t.classList.remove("cd-menu-item")}),e.querySelectorAll("ul.cd-submenu").forEach(t=>{t.classList.remove("cd-submenu")})}createIconElement(e){if(!e.iconType)return null;const t=this.getCurrentThemeMenu(),r=(t==null?void 0:t.iconSize)??14,i=(t==null?void 0:t.iconColor)??"#444";switch(e.iconType){case"fontawesome":{const o=document.createElement("i");return o.className=e.icon,o.style.color=i,o.style.fontSize=`${r}px`,o}case"svg":{const o=document.createElement("span");o.innerHTML=e.icon;const s=o.firstElementChild;return s&&(s.style.color=i,s.style.width=`${r}px`,s.style.height=`${r}px`),s}case"string":{const o=document.createElement("span");return o.textContent=e.icon,o.style.color=i,o.style.fontSize=`${r}px`,o}default:return null}}getCurrentThemeMenu(){var e,t;try{const r=localStorage.getItem("cd-theme"),i=r?JSON.parse(r):null;return(t=(e=i==null?void 0:i.layout)==null?void 0:e.sidebar)==null?void 0:t.menu}catch{return}}}class Ye{constructor(){this.cache={}}static getInstance(){return console.log("[ControllerCacheService][getInstance] start..."),Ye.instance||(Ye.instance=new Ye),Ye.instance}async getOrInitializeController(e,t){if(console.log("[ControllerCacheService][getOrInitializeController] start..."),this.cache[e])return console.log(`[ControllerCacheService] Using cached controller: ${e}`),this.cache[e];if(console.log(`[ControllerCacheService] Creating new instance for: ${e}`),!t||typeof t!="object")return console.error(`[ControllerCacheService] Invalid controllerDef for '${e}'.`,t),null;let r;try{r=Object.create(t)}catch(i){return console.error(`[ControllerCacheService] Failed to create instance for '${e}'.`,i),null}for(const i of Object.keys(t)){const o=Object.getOwnPropertyDescriptor(t,i);o&&o.value!==void 0&&typeof o.value!="function"&&(r[i]=o.value)}try{typeof r.__init=="function"&&r.__init(),typeof r.__setup=="function"&&await r.__setup()}catch(i){console.error(`[ControllerCacheService] Initialization failed for '${e}'.`,i)}return this.cache[e]=r,console.log(`[ControllerCacheService] Cached instance for ${e}`),r}forceReinit(e){console.log(`[ControllerCacheService] Force reinit for: ${e}`);const t=this.cache[e];t&&typeof t.__init=="function"&&t.__init()}}var Ze={},Rn={},Ln=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0},Hi=Ln,Ht=function(){return Hi()&&!!Symbol.toStringTag},Dn=Object,zi=Error,Vi=EvalError,Gi=RangeError,Wi=ReferenceError,$n=SyntaxError,lt=TypeError,Ji=URIError,Yi=Math.abs,Ki=Math.floor,Xi=Math.max,Zi=Math.min,Qi=Math.pow,eo=Math.round,to=Number.isNaN||function(e){return e!==e},ro=to,no=function(e){return ro(e)||e===0?e:e<0?-1:1},io=Object.getOwnPropertyDescriptor,Tt=io;if(Tt)try{Tt([],"length")}catch{Tt=null}var rt=Tt,_t=Object.defineProperty||!1;if(_t)try{_t({},"a",{value:1})}catch{_t=!1}var zt=_t,Qt,Vr;function oo(){if(Vr)return Qt;Vr=1;var n=typeof Symbol<"u"&&Symbol,e=Ln;return Qt=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Qt}var Un=typeof Reflect<"u"&&Reflect.getPrototypeOf||null,so=Dn,kn=so.getPrototypeOf||null,ao="Function.prototype.bind called on incompatible ",co=Object.prototype.toString,lo=Math.max,uo="[object Function]",Gr=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<t.length;o+=1)r[o+e.length]=t[o];return r},fo=function(e,t){for(var r=[],i=t,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},po=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},ho=function(e){var t=this;if(typeof t!="function"||co.apply(t)!==uo)throw new TypeError(ao+t);for(var r=fo(arguments,1),i,o=function(){if(this instanceof i){var u=t.apply(this,Gr(r,arguments));return Object(u)===u?u:this}return t.apply(e,Gr(r,arguments))},s=lo(0,t.length-r.length),a=[],c=0;c<s;c++)a[c]="$"+c;if(i=Function("binder","return function ("+po(a,",")+"){ return binder.apply(this,arguments); }")(o),t.prototype){var l=function(){};l.prototype=t.prototype,i.prototype=new l,l.prototype=null}return i},mo=ho,ut=Function.prototype.bind||mo,Or=Function.prototype.call,Ir=Function.prototype.apply,yo=typeof Reflect<"u"&&Reflect&&Reflect.apply,go=ut,vo=Ir,bo=Or,So=yo,jn=So||go.call(bo,vo),Ao=ut,wo=lt,Eo=Or,Co=jn,Pr=function(e){if(e.length<1||typeof e[0]!="function")throw new wo("a function is required");return Co(Ao,Eo,e)},To=Pr,Wr=rt,xn;try{xn=[].__proto__===Array.prototype}catch(n){if(!n||typeof n!="object"||!("code"in n)||n.code!=="ERR_PROTO_ACCESS")throw n}var er=!!xn&&Wr&&Wr(Object.prototype,"__proto__"),Fn=Object,Jr=Fn.getPrototypeOf,_o=er&&typeof er.get=="function"?To([er.get]):typeof Jr=="function"?function(e){return Jr(e==null?e:Fn(e))}:!1,Yr=Un,Kr=kn,Xr=_o,Rr=Yr?function(e){return Yr(e)}:Kr?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return Kr(e)}:Xr?function(e){return Xr(e)}:null,Mo=Function.prototype.call,Oo=Object.prototype.hasOwnProperty,Io=ut,Nn=Io.call(Mo,Oo),B,Po=Dn,Ro=zi,Lo=Vi,Do=Gi,$o=Wi,Qe=$n,Xe=lt,Uo=Ji,ko=Yi,jo=Ki,xo=Xi,Fo=Zi,No=Qi,Bo=eo,qo=no,Bn=Function,tr=function(n){try{return Bn('"use strict"; return ('+n+").constructor;")()}catch{}},at=rt,Ho=zt,rr=function(){throw new Xe},zo=at?function(){try{return arguments.callee,rr}catch{try{return at(arguments,"callee").get}catch{return rr}}}():rr,Ve=oo()(),se=Rr,Vo=kn,Go=Un,qn=Ir,dt=Or,Je={},Wo=typeof Uint8Array>"u"||!se?B:se(Uint8Array),Ne={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?B:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?B:ArrayBuffer,"%ArrayIteratorPrototype%":Ve&&se?se([][Symbol.iterator]()):B,"%AsyncFromSyncIteratorPrototype%":B,"%AsyncFunction%":Je,"%AsyncGenerator%":Je,"%AsyncGeneratorFunction%":Je,"%AsyncIteratorPrototype%":Je,"%Atomics%":typeof Atomics>"u"?B:Atomics,"%BigInt%":typeof BigInt>"u"?B:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?B:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?B:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?B:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ro,"%eval%":eval,"%EvalError%":Lo,"%Float16Array%":typeof Float16Array>"u"?B:Float16Array,"%Float32Array%":typeof Float32Array>"u"?B:Float32Array,"%Float64Array%":typeof Float64Array>"u"?B:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?B:FinalizationRegistry,"%Function%":Bn,"%GeneratorFunction%":Je,"%Int8Array%":typeof Int8Array>"u"?B:Int8Array,"%Int16Array%":typeof Int16Array>"u"?B:Int16Array,"%Int32Array%":typeof Int32Array>"u"?B:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ve&&se?se(se([][Symbol.iterator]())):B,"%JSON%":typeof JSON=="object"?JSON:B,"%Map%":typeof Map>"u"?B:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ve||!se?B:se(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Po,"%Object.getOwnPropertyDescriptor%":at,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?B:Promise,"%Proxy%":typeof Proxy>"u"?B:Proxy,"%RangeError%":Do,"%ReferenceError%":$o,"%Reflect%":typeof Reflect>"u"?B:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?B:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ve||!se?B:se(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?B:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ve&&se?se(""[Symbol.iterator]()):B,"%Symbol%":Ve?Symbol:B,"%SyntaxError%":Qe,"%ThrowTypeError%":zo,"%TypedArray%":Wo,"%TypeError%":Xe,"%Uint8Array%":typeof Uint8Array>"u"?B:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?B:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?B:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?B:Uint32Array,"%URIError%":Uo,"%WeakMap%":typeof WeakMap>"u"?B:WeakMap,"%WeakRef%":typeof WeakRef>"u"?B:WeakRef,"%WeakSet%":typeof WeakSet>"u"?B:WeakSet,"%Function.prototype.call%":dt,"%Function.prototype.apply%":qn,"%Object.defineProperty%":Ho,"%Object.getPrototypeOf%":Vo,"%Math.abs%":ko,"%Math.floor%":jo,"%Math.max%":xo,"%Math.min%":Fo,"%Math.pow%":No,"%Math.round%":Bo,"%Math.sign%":qo,"%Reflect.getPrototypeOf%":Go};if(se)try{null.error}catch(n){var Jo=se(se(n));Ne["%Error.prototype%"]=Jo}var Yo=function n(e){var t;if(e==="%AsyncFunction%")t=tr("async function () {}");else if(e==="%GeneratorFunction%")t=tr("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=tr("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&se&&(t=se(i.prototype))}return Ne[e]=t,t},Zr={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ft=ut,kt=Nn,Ko=ft.call(dt,Array.prototype.concat),Xo=ft.call(qn,Array.prototype.splice),Qr=ft.call(dt,String.prototype.replace),jt=ft.call(dt,String.prototype.slice),Zo=ft.call(dt,RegExp.prototype.exec),Qo=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,es=/\\(\\)?/g,ts=function(e){var t=jt(e,0,1),r=jt(e,-1);if(t==="%"&&r!=="%")throw new Qe("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Qe("invalid intrinsic syntax, expected opening `%`");var i=[];return Qr(e,Qo,function(o,s,a,c){i[i.length]=a?Qr(c,es,"$1"):s||o}),i},rs=function(e,t){var r=e,i;if(kt(Zr,r)&&(i=Zr[r],r="%"+i[0]+"%"),kt(Ne,r)){var o=Ne[r];if(o===Je&&(o=Yo(r)),typeof o>"u"&&!t)throw new Xe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Qe("intrinsic "+e+" does not exist!")},Hn=function(e,t){if(typeof e!="string"||e.length===0)throw new Xe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Xe('"allowMissing" argument must be a boolean');if(Zo(/^%?[^%]*%?$/,e)===null)throw new Qe("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ts(e),i=r.length>0?r[0]:"",o=rs("%"+i+"%",t),s=o.name,a=o.value,c=!1,l=o.alias;l&&(i=l[0],Xo(r,Ko([0,1],l)));for(var u=1,m=!0;u<r.length;u+=1){var C=r[u],P=jt(C,0,1),y=jt(C,-1);if((P==='"'||P==="'"||P==="`"||y==='"'||y==="'"||y==="`")&&P!==y)throw new Qe("property names with quotes must have matching quotes");if((C==="constructor"||!m)&&(c=!0),i+="."+C,s="%"+i+"%",kt(Ne,s))a=Ne[s];else if(a!=null){if(!(C in a)){if(!t)throw new Xe("base intrinsic for "+e+" exists, but the property is not available.");return}if(at&&u+1>=r.length){var E=at(a,C);m=!!E,m&&"get"in E&&!("originalValue"in E.get)?a=E.get:a=a[C]}else m=kt(a,C),a=a[C];m&&!c&&(Ne[s]=a)}}return a},zn=Hn,Vn=Pr,ns=Vn([zn("%String.prototype.indexOf%")]),pt=function(e,t){var r=zn(e,!!t);return typeof r=="function"&&ns(e,".prototype.")>-1?Vn([r]):r},is=Ht(),os=pt,fr=os("Object.prototype.toString"),Vt=function(e){return is&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:fr(e)==="[object Arguments]"},Gn=function(e){return Vt(e)?!0:e!==null&&typeof e=="object"&&"length"in e&&typeof e.length=="number"&&e.length>=0&&fr(e)!=="[object Array]"&&"callee"in e&&fr(e.callee)==="[object Function]"},ss=function(){return Vt(arguments)}();Vt.isLegacyArguments=Gn;var as=ss?Vt:Gn,en=pt,cs=Ht(),ls=Nn,us=rt,pr;if(cs){var ds=en("RegExp.prototype.exec"),tn={},nr=function(){throw tn},rn={toString:nr,valueOf:nr};typeof Symbol.toPrimitive=="symbol"&&(rn[Symbol.toPrimitive]=nr),pr=function(e){if(!e||typeof e!="object")return!1;var t=us(e,"lastIndex"),r=t&&ls(t,"value");if(!r)return!1;try{ds(e,rn)}catch(i){return i===tn}}}else{var fs=en("Object.prototype.toString"),ps="[object RegExp]";pr=function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:fs(e)===ps}}var hs=pr,ms=pt,ys=hs,gs=ms("RegExp.prototype.exec"),vs=lt,bs=function(e){if(!ys(e))throw new vs("`regex` must be a RegExp");return function(r){return gs(e,r)!==null}},ir,nn;function Ss(){if(nn)return ir;nn=1;const n=(function*(){}).constructor;return ir=()=>n,ir}var Wn=pt,As=bs,ws=As(/^\s*(?:function)?\*/),Es=Ht(),on=Rr,Cs=Wn("Object.prototype.toString"),Ts=Wn("Function.prototype.toString"),_s=Ss(),Ms=function(e){if(typeof e!="function")return!1;if(ws(Ts(e)))return!0;if(!Es){var t=Cs(e);return t==="[object GeneratorFunction]"}if(!on)return!1;var r=_s();return r&&on(e)===r.prototype},Jn=Function.prototype.toString,Ke=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,hr,Mt;if(typeof Ke=="function"&&typeof Object.defineProperty=="function")try{hr=Object.defineProperty({},"length",{get:function(){throw Mt}}),Mt={},Ke(function(){throw 42},null,hr)}catch(n){n!==Mt&&(Ke=null)}else Ke=null;var Os=/^\s*class\b/,mr=function(e){try{var t=Jn.call(e);return Os.test(t)}catch{return!1}},or=function(e){try{return mr(e)?!1:(Jn.call(e),!0)}catch{return!1}},Ot=Object.prototype.toString,Is="[object Object]",Ps="[object Function]",Rs="[object GeneratorFunction]",Ls="[object HTMLAllCollection]",Ds="[object HTML document.all class]",$s="[object HTMLCollection]",Us=typeof Symbol=="function"&&!!Symbol.toStringTag,ks=!(0 in[,]),yr=function(){return!1};if(typeof document=="object"){var js=document.all;Ot.call(js)===Ot.call(document.all)&&(yr=function(e){if((ks||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=Ot.call(e);return(t===Ls||t===Ds||t===$s||t===Is)&&e("")==null}catch{}return!1})}var xs=Ke?function(e){if(yr(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Ke(e,null,hr)}catch(t){if(t!==Mt)return!1}return!mr(e)&&or(e)}:function(e){if(yr(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(Us)return or(e);if(mr(e))return!1;var t=Ot.call(e);return t!==Ps&&t!==Rs&&!/^\[object HTML/.test(t)?!1:or(e)},Fs=xs,Ns=Object.prototype.toString,Yn=Object.prototype.hasOwnProperty,Bs=function(e,t,r){for(var i=0,o=e.length;i<o;i++)Yn.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))},qs=function(e,t,r){for(var i=0,o=e.length;i<o;i++)r==null?t(e.charAt(i),i,e):t.call(r,e.charAt(i),i,e)},Hs=function(e,t,r){for(var i in e)Yn.call(e,i)&&(r==null?t(e[i],i,e):t.call(r,e[i],i,e))};function zs(n){return Ns.call(n)==="[object Array]"}var Vs=function(e,t,r){if(!Fs(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),zs(e)?Bs(e,t,i):typeof e=="string"?qs(e,t,i):Hs(e,t,i)},Gs=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],sr=Gs,Ws=typeof globalThis>"u"?$t:globalThis,Js=function(){for(var e=[],t=0;t<sr.length;t++)typeof Ws[sr[t]]=="function"&&(e[e.length]=sr[t]);return e},Kn={exports:{}},sn=zt,Ys=$n,Ge=lt,an=rt,Ks=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Ge("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Ge("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ge("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ge("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ge("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ge("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!an&&an(e,t);if(sn)sn(e,t,{configurable:s===null&&c?c.configurable:!s,enumerable:i===null&&c?c.enumerable:!i,value:r,writable:o===null&&c?c.writable:!o});else if(a||!i&&!o&&!s)e[t]=r;else throw new Ys("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},gr=zt,Xn=function(){return!!gr};Xn.hasArrayLengthDefineBug=function(){if(!gr)return null;try{return gr([],"length",{value:1}).length!==1}catch{return!0}};var Xs=Xn,Zs=Hn,cn=Ks,Qs=Xs(),ln=rt,un=lt,ea=Zs("%Math.floor%"),ta=function(e,t){if(typeof e!="function")throw new un("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||ea(t)!==t)throw new un("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&ln){var s=ln(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(Qs?cn(e,"length",t,!0,!0):cn(e,"length",t)),e},ra=ut,na=Ir,ia=jn,oa=function(){return ia(ra,na,arguments)};(function(n){var e=ta,t=zt,r=Pr,i=oa;n.exports=function(s){var a=r(arguments),c=s.length-(arguments.length-1);return e(a,1+(c>0?c:0),!0)},t?t(n.exports,"apply",{value:i}):n.exports.apply=i})(Kn);var sa=Kn.exports,xt=Vs,aa=Js,dn=sa,Lr=pt,It=rt,Et=Rr,ca=Lr("Object.prototype.toString"),Zn=Ht(),fn=typeof globalThis>"u"?$t:globalThis,vr=aa(),Dr=Lr("String.prototype.slice"),la=Lr("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},Ft={__proto__:null};Zn&&It&&Et?xt(vr,function(n){var e=new fn[n];if(Symbol.toStringTag in e&&Et){var t=Et(e),r=It(t,Symbol.toStringTag);if(!r&&t){var i=Et(t);r=It(i,Symbol.toStringTag)}Ft["$"+n]=dn(r.get)}}):xt(vr,function(n){var e=new fn[n],t=e.slice||e.set;t&&(Ft["$"+n]=dn(t))});var ua=function(e){var t=!1;return xt(Ft,function(r,i){if(!t)try{"$"+r(e)===i&&(t=Dr(i,1))}catch{}}),t},da=function(e){var t=!1;return xt(Ft,function(r,i){if(!t)try{r(e),t=Dr(i,1)}catch{}}),t},Qn=function(e){if(!e||typeof e!="object")return!1;if(!Zn){var t=Dr(ca(e),8,-1);return la(vr,t)>-1?t:t!=="Object"?!1:da(e)}return It?ua(e):null},fa=Qn,pa=function(e){return!!fa(e)};(function(n){var e=as,t=Ms,r=Qn,i=pa;function o(S){return S.call.bind(S)}var s=typeof BigInt<"u",a=typeof Symbol<"u",c=o(Object.prototype.toString),l=o(Number.prototype.valueOf),u=o(String.prototype.valueOf),m=o(Boolean.prototype.valueOf);if(s)var C=o(BigInt.prototype.valueOf);if(a)var P=o(Symbol.prototype.valueOf);function y(S,St){if(typeof S!="object")return!1;try{return St(S),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=i;function E(S){return typeof Promise<"u"&&S instanceof Promise||S!==null&&typeof S=="object"&&typeof S.then=="function"&&typeof S.catch=="function"}n.isPromise=E;function A(S){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(S):i(S)||f(S)}n.isArrayBufferView=A;function R(S){return r(S)==="Uint8Array"}n.isUint8Array=R;function F(S){return r(S)==="Uint8ClampedArray"}n.isUint8ClampedArray=F;function j(S){return r(S)==="Uint16Array"}n.isUint16Array=j;function W(S){return r(S)==="Uint32Array"}n.isUint32Array=W;function H(S){return r(S)==="Int8Array"}n.isInt8Array=H;function K(S){return r(S)==="Int16Array"}n.isInt16Array=K;function X(S){return r(S)==="Int32Array"}n.isInt32Array=X;function pe(S){return r(S)==="Float32Array"}n.isFloat32Array=pe;function he(S){return r(S)==="Float64Array"}n.isFloat64Array=he;function be(S){return r(S)==="BigInt64Array"}n.isBigInt64Array=be;function we(S){return r(S)==="BigUint64Array"}n.isBigUint64Array=we;function ae(S){return c(S)==="[object Map]"}ae.working=typeof Map<"u"&&ae(new Map);function me(S){return typeof Map>"u"?!1:ae.working?ae(S):S instanceof Map}n.isMap=me;function ce(S){return c(S)==="[object Set]"}ce.working=typeof Set<"u"&&ce(new Set);function Se(S){return typeof Set>"u"?!1:ce.working?ce(S):S instanceof Set}n.isSet=Se;function Z(S){return c(S)==="[object WeakMap]"}Z.working=typeof WeakMap<"u"&&Z(new WeakMap);function Re(S){return typeof WeakMap>"u"?!1:Z.working?Z(S):S instanceof WeakMap}n.isWeakMap=Re;function le(S){return c(S)==="[object WeakSet]"}le.working=typeof WeakSet<"u"&&le(new WeakSet);function _e(S){return le(S)}n.isWeakSet=_e;function ue(S){return c(S)==="[object ArrayBuffer]"}ue.working=typeof ArrayBuffer<"u"&&ue(new ArrayBuffer);function de(S){return typeof ArrayBuffer>"u"?!1:ue.working?ue(S):S instanceof ArrayBuffer}n.isArrayBuffer=de;function O(S){return c(S)==="[object DataView]"}O.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&O(new DataView(new ArrayBuffer(1),0,1));function f(S){return typeof DataView>"u"?!1:O.working?O(S):S instanceof DataView}n.isDataView=f;var g=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function b(S){return c(S)==="[object SharedArrayBuffer]"}function k(S){return typeof g>"u"?!1:(typeof b.working>"u"&&(b.working=b(new g)),b.working?b(S):S instanceof g)}n.isSharedArrayBuffer=k;function z(S){return c(S)==="[object AsyncFunction]"}n.isAsyncFunction=z;function V(S){return c(S)==="[object Map Iterator]"}n.isMapIterator=V;function x(S){return c(S)==="[object Set Iterator]"}n.isSetIterator=x;function $(S){return c(S)==="[object Generator]"}n.isGeneratorObject=$;function J(S){return c(S)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=J;function ne(S){return y(S,l)}n.isNumberObject=ne;function Me(S){return y(S,u)}n.isStringObject=Me;function ze(S){return y(S,m)}n.isBooleanObject=ze;function Oe(S){return s&&y(S,C)}n.isBigIntObject=Oe;function ke(S){return a&&y(S,P)}n.isSymbolObject=ke;function vt(S){return ne(S)||Me(S)||ze(S)||Oe(S)||ke(S)}n.isBoxedPrimitive=vt;function bt(S){return typeof Uint8Array<"u"&&(de(S)||k(S))}n.isAnyArrayBuffer=bt,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(S){Object.defineProperty(n,S,{enumerable:!1,value:function(){throw new Error(S+" is not supported in userland")}})})})(Rn);var ha=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},br={exports:{}};typeof Object.create=="function"?br.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:br.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var ma=br.exports;(function(n){var e={},t=Object.getOwnPropertyDescriptors||function(g){for(var b=Object.keys(g),k={},z=0;z<b.length;z++)k[b[z]]=Object.getOwnPropertyDescriptor(g,b[z]);return k},r=/%[sdj%]/g;n.format=function(f){if(!K(f)){for(var g=[],b=0;b<arguments.length;b++)g.push(a(arguments[b]));return g.join(" ")}for(var b=1,k=arguments,z=k.length,V=String(f).replace(r,function($){if($==="%%")return"%";if(b>=z)return $;switch($){case"%s":return String(k[b++]);case"%d":return Number(k[b++]);case"%j":try{return JSON.stringify(k[b++])}catch{return"[Circular]"}default:return $}}),x=k[b];b<z;x=k[++b])j(x)||!be(x)?V+=" "+x:V+=" "+a(x);return V},n.deprecate=function(f,g){if(typeof process<"u"&&process.noDeprecation===!0)return f;if(typeof process>"u")return function(){return n.deprecate(f,g).apply(this,arguments)};var b=!1;function k(){if(!b){if(process.throwDeprecation)throw new Error(g);process.traceDeprecation?console.trace(g):console.error(g),b=!0}return f.apply(this,arguments)}return k};var i={},o=/^$/;if(e.NODE_DEBUG){var s=e.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+s+"$","i")}n.debuglog=function(f){if(f=f.toUpperCase(),!i[f])if(o.test(f)){var g=process.pid;i[f]=function(){var b=n.format.apply(n,arguments);console.error("%s %d: %s",f,g,b)}}else i[f]=function(){};return i[f]};function a(f,g){var b={seen:[],stylize:l};return arguments.length>=3&&(b.depth=arguments[2]),arguments.length>=4&&(b.colors=arguments[3]),F(g)?b.showHidden=g:g&&n._extend(b,g),pe(b.showHidden)&&(b.showHidden=!1),pe(b.depth)&&(b.depth=2),pe(b.colors)&&(b.colors=!1),pe(b.customInspect)&&(b.customInspect=!0),b.colors&&(b.stylize=c),m(b,f,b.depth)}n.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(f,g){var b=a.styles[g];return b?"\x1B["+a.colors[b][0]+"m"+f+"\x1B["+a.colors[b][1]+"m":f}function l(f,g){return f}function u(f){var g={};return f.forEach(function(b,k){g[b]=!0}),g}function m(f,g,b){if(f.customInspect&&g&&me(g.inspect)&&g.inspect!==n.inspect&&!(g.constructor&&g.constructor.prototype===g)){var k=g.inspect(b,f);return K(k)||(k=m(f,k,b)),k}var z=C(f,g);if(z)return z;var V=Object.keys(g),x=u(V);if(f.showHidden&&(V=Object.getOwnPropertyNames(g)),ae(g)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return P(g);if(V.length===0){if(me(g)){var $=g.name?": "+g.name:"";return f.stylize("[Function"+$+"]","special")}if(he(g))return f.stylize(RegExp.prototype.toString.call(g),"regexp");if(we(g))return f.stylize(Date.prototype.toString.call(g),"date");if(ae(g))return P(g)}var J="",ne=!1,Me=["{","}"];if(R(g)&&(ne=!0,Me=["[","]"]),me(g)){var ze=g.name?": "+g.name:"";J=" [Function"+ze+"]"}if(he(g)&&(J=" "+RegExp.prototype.toString.call(g)),we(g)&&(J=" "+Date.prototype.toUTCString.call(g)),ae(g)&&(J=" "+P(g)),V.length===0&&(!ne||g.length==0))return Me[0]+J+Me[1];if(b<0)return he(g)?f.stylize(RegExp.prototype.toString.call(g),"regexp"):f.stylize("[Object]","special");f.seen.push(g);var Oe;return ne?Oe=y(f,g,b,x,V):Oe=V.map(function(ke){return E(f,g,b,x,ke,ne)}),f.seen.pop(),A(Oe,J,Me)}function C(f,g){if(pe(g))return f.stylize("undefined","undefined");if(K(g)){var b="'"+JSON.stringify(g).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return f.stylize(b,"string")}if(H(g))return f.stylize(""+g,"number");if(F(g))return f.stylize(""+g,"boolean");if(j(g))return f.stylize("null","null")}function P(f){return"["+Error.prototype.toString.call(f)+"]"}function y(f,g,b,k,z){for(var V=[],x=0,$=g.length;x<$;++x)_e(g,String(x))?V.push(E(f,g,b,k,String(x),!0)):V.push("");return z.forEach(function(J){J.match(/^\d+$/)||V.push(E(f,g,b,k,J,!0))}),V}function E(f,g,b,k,z,V){var x,$,J;if(J=Object.getOwnPropertyDescriptor(g,z)||{value:g[z]},J.get?J.set?$=f.stylize("[Getter/Setter]","special"):$=f.stylize("[Getter]","special"):J.set&&($=f.stylize("[Setter]","special")),_e(k,z)||(x="["+z+"]"),$||(f.seen.indexOf(J.value)<0?(j(b)?$=m(f,J.value,null):$=m(f,J.value,b-1),$.indexOf(`
`)>-1&&(V?$=$.split(`
`).map(function(ne){return"  "+ne}).join(`
`).slice(2):$=`
`+$.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):$=f.stylize("[Circular]","special")),pe(x)){if(V&&z.match(/^\d+$/))return $;x=JSON.stringify(""+z),x.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(x=x.slice(1,-1),x=f.stylize(x,"name")):(x=x.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),x=f.stylize(x,"string"))}return x+": "+$}function A(f,g,b){var k=f.reduce(function(z,V){return V.indexOf(`
`)>=0,z+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return k>60?b[0]+(g===""?"":g+`
 `)+" "+f.join(`,
  `)+" "+b[1]:b[0]+g+" "+f.join(", ")+" "+b[1]}n.types=Rn;function R(f){return Array.isArray(f)}n.isArray=R;function F(f){return typeof f=="boolean"}n.isBoolean=F;function j(f){return f===null}n.isNull=j;function W(f){return f==null}n.isNullOrUndefined=W;function H(f){return typeof f=="number"}n.isNumber=H;function K(f){return typeof f=="string"}n.isString=K;function X(f){return typeof f=="symbol"}n.isSymbol=X;function pe(f){return f===void 0}n.isUndefined=pe;function he(f){return be(f)&&Se(f)==="[object RegExp]"}n.isRegExp=he,n.types.isRegExp=he;function be(f){return typeof f=="object"&&f!==null}n.isObject=be;function we(f){return be(f)&&Se(f)==="[object Date]"}n.isDate=we,n.types.isDate=we;function ae(f){return be(f)&&(Se(f)==="[object Error]"||f instanceof Error)}n.isError=ae,n.types.isNativeError=ae;function me(f){return typeof f=="function"}n.isFunction=me;function ce(f){return f===null||typeof f=="boolean"||typeof f=="number"||typeof f=="string"||typeof f=="symbol"||typeof f>"u"}n.isPrimitive=ce,n.isBuffer=ha;function Se(f){return Object.prototype.toString.call(f)}function Z(f){return f<10?"0"+f.toString(10):f.toString(10)}var Re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var f=new Date,g=[Z(f.getHours()),Z(f.getMinutes()),Z(f.getSeconds())].join(":");return[f.getDate(),Re[f.getMonth()],g].join(" ")}n.log=function(){console.log("%s - %s",le(),n.format.apply(n,arguments))},n.inherits=ma,n._extend=function(f,g){if(!g||!be(g))return f;for(var b=Object.keys(g),k=b.length;k--;)f[b[k]]=g[b[k]];return f};function _e(f,g){return Object.prototype.hasOwnProperty.call(f,g)}var ue=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(g){if(typeof g!="function")throw new TypeError('The "original" argument must be of type Function');if(ue&&g[ue]){var b=g[ue];if(typeof b!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(b,ue,{value:b,enumerable:!1,writable:!1,configurable:!0}),b}function b(){for(var k,z,V=new Promise(function(J,ne){k=J,z=ne}),x=[],$=0;$<arguments.length;$++)x.push(arguments[$]);x.push(function(J,ne){J?z(J):k(ne)});try{g.apply(this,x)}catch(J){z(J)}return V}return Object.setPrototypeOf(b,Object.getPrototypeOf(g)),ue&&Object.defineProperty(b,ue,{value:b,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(b,t(g))},n.promisify.custom=ue;function de(f,g){if(!f){var b=new Error("Promise was rejected with a falsy value");b.reason=f,f=b}return g(f)}function O(f){if(typeof f!="function")throw new TypeError('The "original" argument must be of type Function');function g(){for(var b=[],k=0;k<arguments.length;k++)b.push(arguments[k]);var z=b.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var V=this,x=function(){return z.apply(V,arguments)};f.apply(this,b).then(function($){process.nextTick(x.bind(null,null,$))},function($){process.nextTick(de.bind(null,$,x))})}return Object.setPrototypeOf(g,Object.getPrototypeOf(f)),Object.defineProperties(g,t(f)),g}n.callbackify=O})(Ze);function L(n,e={}){console.log(`%c[CSS-DIAG] ${n}`,"background:#222;color:#0f0;padding:2px 4px;border-radius:3px",e)}function ya(){const n=document.getElementById("cd-sidebar");if(!n)return;const e=window.getComputedStyle(n);console.warn("%c[SIDEBAR-DIAG] Sidebar State:","background:#440;color:#fff;padding:3px"),console.log("display:",e.display),console.log("position:",e.position),console.log("width:",e.width),console.log("flex-direction:",e.flexDirection),console.log("css file winning:",n)}const ga="modulepreload",va=function(n){return"/"+n},pn={},Q=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(t.map(c=>{if(c=va(c),c in pn)return;pn[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const m=document.createElement("link");if(m.rel=l?"stylesheet":ga,l||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),l)return new Promise((C,P)=>{m.addEventListener("load",C),m.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};let ba,Pt,ei;const Sa=async()=>{if(typeof window>"u")try{const[n,e,t]=await Promise.all([Q(()=>import("./__vite-browser-external_fs-DU1_jvsO.js"),[]),Q(()=>import("./__vite-browser-external_path-SE2pKm0_.js"),[]),Q(()=>import("./url-ofr-6AQT.js").then(r=>r.u),[])]);ba=n,Pt=e,ei=t}catch(n){console.error("[ModuleService] Failed to load Node.js modules:",n)}},ye=class ye{constructor(){this.modules={},console.debug("[ModuleService][constructor]: starting"),this.isViteMode?(console.debug("[ModuleService] Running under Vite (browser)."),this.modules=Object.assign({"/src/CdShell/app/cd-ai/view/index.js":()=>Q(()=>Promise.resolve().then(()=>cl),void 0),"/src/CdShell/app/cd-geo/view/index.js":()=>Q(()=>import("./index-DIGhDJk_.js"),[]),"/src/CdShell/app/coops/view/index.js":()=>Q(()=>import("./index-YhLg4ZnN.js"),[]),"/src/CdShell/app/ui-adaptor-port/view/index.js":()=>Q(()=>Promise.resolve().then(()=>ll),void 0),"/src/CdShell/sys/base/view/index.js":()=>Q(()=>Promise.resolve().then(()=>ul),void 0),"/src/CdShell/sys/cd-admin/view/index.js":()=>Q(()=>import("./index-CXkyVQM2.js"),__vite__mapDeps([0,1])),"/src/CdShell/sys/cd-comm/view/index.js":()=>Q(()=>import("./index-D4hYxGhB.js"),[]),"/src/CdShell/sys/cd-guig/view/index.js":()=>Q(()=>Promise.resolve().then(()=>dl),void 0),"/src/CdShell/sys/cd-platform/view/index.js":()=>Q(()=>Promise.resolve().then(()=>fl),void 0),"/src/CdShell/sys/cd-push/view/index.js":()=>Q(()=>import("./index-DMjNbz6u.js"),[]),"/src/CdShell/sys/cd-scheduler/view/index.js":()=>Q(()=>Promise.resolve().then(()=>pl),void 0),"/src/CdShell/sys/cd-store/view/index.js":()=>Q(()=>Promise.resolve().then(()=>hl),void 0),"/src/CdShell/sys/cd-user/view/index.js":()=>Q(()=>import("./index-BEx0eJtE.js"),__vite__mapDeps([2,1])),"/src/CdShell/sys/dev-descriptor/view/index.js":()=>Q(()=>Promise.resolve().then(()=>ml),void 0),"/src/CdShell/sys/dev-sync/view/index.js":()=>Q(()=>import("./index-Cfy3-rsD.js"),[]),"/src/CdShell/sys/moduleman/view/index.js":()=>Q(()=>import("./index-Cx-20rOu.js"),__vite__mapDeps([3,1])),"/src/CdShell/sys/theme/view/index.js":()=>Q(()=>Promise.resolve().then(()=>yl),void 0),"/src/CdShell/sys/utils/view/index.js":()=>Q(()=>Promise.resolve().then(()=>gl),void 0)})):console.debug("[ModuleService] Running under Node (non-Vite).")}static getInstance(){return ye.instance||(ye.instance=new ye),ye.instance}get isBrowser(){return typeof window<"u"}get isViteMode(){return this.isBrowser}get baseDir(){return this.isViteMode?"/src/CdShell":Pt==null?void 0:Pt.resolve(process.cwd(),"dist-ts/CdShell")}static async ensureInitialized(){this.initPromise||(this.initPromise=Sa()),await this.initPromise}static async preloadModulesSequentially(){const e=ye.getInstance();for(const t of this.preloadModules)try{console.debug(`[Preload] Loading ${t.moduleId}`);const i=(await e.loadModule(t.ctx,t.moduleId)).controllers.find(o=>o.name===t.component);if(i!=null&&i.instance&&typeof i.instance.__setup=="function"){const o=i.instance;console.debug(`[Preload] Setting up ${t.component}`),await o.__setup()}else console.warn(`[Preload] Controller component '${t.component}' not found in module ${t.moduleId}.`);console.debug(`[Preload] Completed ${t.component}`)}catch(r){console.error(`[Preload] Failed ${t.moduleId}: ${r}`)}}async loadModule(e,t){await ye.ensureInitialized(),ye.hasPreloaded||(ye.hasPreloaded=!0,await ye.preloadModulesSequentially()),console.debug("ModuleService::loadModule()/01:");const r=this.isViteMode,i=this.baseDir,o=r?`src/CdShell/${e}/${t}/view/index.js`:`${i}/${e}/${t}/view/index.js`;if(console.debug("[ModuleService] expectedPathFragment:",o),r){console.debug("[ModuleService] 1");const c=Object.keys(this.modules).find(l=>l.replace(/^\.?\//,"")===o);if(!c)throw console.error("[ModuleService] Available module keys:",Object.keys(this.modules)),new Error(`[ModuleService] Module not found for ctx=${e}, moduleId=${t}`);try{console.debug("[ModuleService][loadModule] pathKey:",c);const l=this.modules[c],m=(await l()).module;if(!m)throw new Error(`Missing 'module' export in: ${c}`);console.debug("[ModuleService][loadModule] moduleInfo:",m),console.debug("[ModuleService][loadModule] moduleInfo.controllers:",m.controllers);const C=m.controllers.find(y=>y.default===!0);return m.isDefault&&C||console.debug(`[ModuleService] Loaded module metadata passively: ${t}. Setup skipped.`),console.log(`[ModuleService] Loaded '${t}' (Vite mode) at ${new Date().toLocaleString()}`),m}catch(l){throw console.error("[ModuleService] Browser import failed:",l),l}}const a=`${i.replace(/\\/g,"/").replace(/\/+$/,"")}/${e}/${t}/view/index.js`;console.debug("[ModuleService] Importing (Node):",a);try{const l=await import(ei.pathToFileURL(a).href);return console.log(`[ModuleService] Loaded '${t}' (Node mode) at ${new Date().toLocaleString()}`),l.module}catch(c){throw console.error("[ModuleService] Node import failed:",c),c}}async getAllowedModules(){const e=[],t=await this.loadModule("sys","cd-user");t&&(t.isDefault=!0,e.push(t));const r=await this.loadModule("sys","cd-admin");r&&(r.isDefault=!1,e.push(r));const i=await this.loadModule("sys","moduleman");return i&&(i.isDefault=!1,e.push(i)),e}};ye.initPromise=null,ye.hasPreloaded=!1,ye.preloadModules=[{ctx:"sys",moduleId:"dev-sync",component:"IdeAgentService"},{ctx:"sys",moduleId:"dev-sync",component:"IdeAgentClientService"}];let ct=ye;class ti{findControllerInfoByRoute(e,t){const r=t.split("/"),i=r[r.length-1];return console.log("[ControllerService][findControllerInfoByRoute] controllerName:",i),console.log("[ControllerService][findControllerInfoByRoute] mod:",Ze.inspect(e,{depth:2})),e.controllers.find(o=>o.name===i)}async loadDefaultController(e,t,r){var i;try{const o=t.find(a=>a.label===(r==null?void 0:r.moduleId)),s=(i=o==null?void 0:o.children)==null?void 0:i.find(a=>a.moduleDefault);s&&await e.loadResource({item:s}),L("Default controller loaded")}catch(o){console.warn("[Main] auto-load default view failed",o)}}}class Aa{constructor(){this.currentAdapter=null,this._activeController=null,this.activeController=null,this.svModule=new ct,this.svController=new ti}renderMenuWithSystem(e,t,r="cd-sidebar"){var s,a,c,l;console.debug("Starting renderMenuWithSystem()"),console.debug("renderMenuWithSystem()/01"),this.renderPlainMenu(e,r);const i=((c=(a=(s=t==null?void 0:t.layout)==null?void 0:s.sidebar)==null?void 0:a.menu)==null?void 0:c.menuSystem)||"plain",o=this.menuAdapterFactory(i);console.debug("renderMenuWithSystem()/adapter:",JSON.stringify(o)),(l=this.currentAdapter)!=null&&l.destroy&&(console.debug("renderMenuWithSystem()/02"),this.currentAdapter.destroy()),o&&(console.debug("renderMenuWithSystem()/03"),o.initialize(r,t.id),this.currentAdapter=o),console.debug("renderMenuWithSystem()/04")}renderPlainMenu(e,t="sidebar",r){const i=document.getElementById(t);i&&(console.log("MenuService::renderPlainMenu()/menu:",this.renderMenuHtml(e)),i.innerHTML=`<ul class="cd-menu-root">${this.renderMenuHtml(e)}</ul>`,this.attachClickHandlers(i,e,r))}attachClickHandlers(e,t,r){e.querySelectorAll(".cd-menu-link").forEach(o=>{o.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();const a=o.getAttribute("data-id");if(!a)return;const c=this.findMenuItemById(t,a);c&&this.onMenuClick(c,r)})})}findMenuItemById(e,t){for(const r of e){if(r.menuId===t)return r;if(r.children){const i=this.findMenuItemById(r.children,t);if(i)return i}}return null}walkMenu(e,t,r,i,o){var s;for(const a of e){const c=r[i++];c&&c.addEventListener("click",l=>{l.stopPropagation(),this.onMenuClick(a,o)}),(s=a.children)!=null&&s.length&&this.walkMenu(a.children,c,r,i,o)}}onMenuClick(e,t){var r;if(console.debug(`Menu clicked  ID: ${e.menuId}, Label: ${e.label}`),console.debug("MenuService:onMenuClick()/item:",Ze.inspect(e,{depth:2})),e.itemType==="action"&&e.action){console.debug(`[MenuService] Executing action for '${e.label}'`),e.action();return}if(e.itemType==="route"&&e.route&&e.controller){console.debug(`[MenuService] Loading route content for '${e.label}'`),this.loadResource({cdToken:t,item:e});return}if(e.itemType==="template"&&e.template&&e.controller){console.debug(`[MenuService] Loading template for '${e.label}'`),this.loadResource({cdToken:t,item:e});return}if(e.children&&e.children.length>0){console.debug(`[MenuService] Toggling menu node expansion for '${e.label}'`);const i=(r=document.querySelector(`[data-id="${e.menuId}"]`))==null?void 0:r.closest("li.cd-menu-item");if(i){i.classList.toggle("expanded");const o=i.querySelector(".cd-submenu");o&&o.classList.toggle("open")}return}console.warn(`[MenuService] Unhandled menu item type '${e.itemType}' for label '${e.label}'`)}async loadResource(e={}){console.log("MenuService::loadResource()/start..."),console.log("[MenuService][loadResource] options:",e);const{cdToken:t,item:r}=e;if(!r){console.error("MenuService.loadResource() called without a valid MenuItem.");return}const i=Ye.getInstance(),o=document.getElementById("cd-main-content");let s;if(this.activeController&&typeof this.activeController.__deactivate=="function"&&(console.log("MenuService::loadResource()/01: Executing __deactivate() on active controller"),await this.activeController.__deactivate()),console.log("MenuService::loadResource()/02: Retrieving controller via cache service"),s=await i.getOrInitializeController(r.route||`${r.moduleId}-${r.label}`,r.controller),!s){console.error(`[MenuService] Failed to initialize controller for route: ${r.route}`);return}let a=0;for(;(!s.uiSystemLoader||!s.svCdAdmin)&&a<10;)console.warn(`[MenuService] Waiting for controller services to initialize... attempt ${a+1}`),await new Promise(c=>setTimeout(c,20)),a++;if(o){console.log("MenuService::loadResource()/03: Injecting template into DOM");let c="";typeof r.template=="function"?c=r.template.call(s):typeof s.__template=="function"?c=s.__template.call(s):c=r.template||"",o.innerHTML=c}typeof s.__activate=="function"&&(console.log("MenuService::loadResource()/04: Executing __activate()"),await s.__activate()),typeof s.__afterInit=="function"&&(console.log("MenuService::loadResource()/05: Executing __afterInit()"),await s.__afterInit()),this.activeController=s,console.log("MenuService::loadResource()/end")}getActiveController(){return this._activeController}setActiveController(e){this._activeController=e}renderMenuHtml(e){return e.map((t,r)=>{const i=t.children&&t.children.length>0,o=t.icon?btoa(JSON.stringify(t.icon)):"",s=t.itemType||"route",a=t.route||"",c=t.menuId||`auto-${r}-${Math.random().toString(36).slice(2,8)}`;return t.menuId=c,`
        <li
          id="menu-item-${c}"
          class="cd-menu-item"
          data-id="${c}"
          data-type="${s}"
          data-route="${a}"
          ${o?`data-icon="${o}"`:""}
          tabindex="0"
          role="button"
        >
          <a href="#" class="cd-menu-link" data-id="${c}">
            <span class="cd-menu-label">${t.label}</span>
            ${i?'<span class="cd-menu-toggle-icon fa fa-chevron-right"></span>':""}
          </a>
          ${i?`<ul class="cd-submenu">${this.renderMenuHtml(t.children)}</ul>`:""}
        </li>
      `}).join("")}menuAdapterFactory(e){switch(e){case"metismenu":return new qi;case"plain":default:return null}}toKebabCase(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}assignMenuIds(e,t=""){return e.map(r=>{const i=r.label||r.route||"item",o=`menu-item-${t?t+"-":""}${this.toKebabCase(i)}`,s={...r,menuId:o};return r.children&&r.children.length>0&&(s.children=this.assignMenuIds(r.children,this.toKebabCase(i))),s})}prepareMenu(e){const t=this.assignMenuIds(e);return this.ensureItemTypes(t)}ensureItemTypes(e){return e.map(t=>{let r="route";t.itemType?r=t.itemType:t.action?r="action":t.template?r="template":t.route&&(r="route");const i={...t,itemType:r};return t.children&&t.children.length>0&&(i.children=this.ensureItemTypes(t.children)),i})}async structMenu(){var s;const e=await this.svModule.getAllowedModules(),t=e.find(a=>a.isDefault),r=(s=t==null?void 0:t.controllers.find(a=>a.default))==null?void 0:s.name;L("Modules Loaded",{allowedModules:e});const i=e.flatMap(a=>{const c=l=>l.map(u=>{if(u.itemType==="route"&&u.route){const m=this.svController.findControllerInfoByRoute(a,u.route);m&&(u.controller=m.instance,u.template=typeof m.template=="function"?m.template:()=>m.template,u.moduleId=a.moduleId,a.isDefault&&m.name===r&&(u.moduleDefault=!0))}return u.children&&(u.children=c(u.children)),u});return c(a.menu||[])}),o=this.prepareMenu(i);return L("Menu prepared",o),{preparedMenu:o,defaultModule:t}}}class De{constructor(e={},t){let r;typeof e=="string"?r={context:e,...t}:r=e,this.context=r.context||"Shell",this.level=r.level||"debug",this.silent=r.silent||!1}shouldLog(e){const t={debug:0,info:1,warn:2,error:3};return t[e]>=t[this.level]}log(e,t,...r){if(this.silent||!this.shouldLog(e))return;const i=`[${this.context.toUpperCase()}] [${e.toUpperCase()}]`;switch(e){case"debug":console.debug(i,t,...r);break;case"info":console.info(i,t,...r);break;case"warn":console.warn(i,t,...r);break;case"error":console.error(i,t,...r);break}}debug(e,...t){this.log("debug",e,...t)}info(e,...t){this.log("info",e,...t)}warn(e,...t){this.log("warn",e,...t)}error(e,...t){this.log("error",e,...t)}setContext(e){this.context=e}setLevel(e){this.level=e}silence(){this.silent=!0}unsilence(){this.silent=!1}}const je=class je{async loadThemeConfig(e="default"){console.debug(`ThemeService::loadThemeConfig(${e})`);const t=await fetch(`/themes/${e}/theme.json`);if(!t.ok)throw new Error(`Failed to load theme config: ${t.statusText}`);const r=await t.json();return je.setActiveTheme(r),r}static setActiveTheme(e){je.currentTheme=e,e!=null&&e.colors&&Object.entries(e.colors).forEach(([t,r])=>{const i=String(r);document.documentElement.style.setProperty(`--cd-${t}-color`,i)})}static get layout(){var e;return((e=je.currentTheme)==null?void 0:e.layout)||{}}static get activeTheme(){return je.currentTheme}};je.currentTheme=null;let Sr=je;class Ue{constructor(e){this.configService=e,this.logger=new De,this.cache=new Map,this.listeners=new Map,this.versionCounter=0}static getInstance(e){if(!Ue.instance){if(!e)throw new Error("SysCacheService must be initialized with ConfigService on first instantiation.");Ue.instance=new Ue(e)}return Ue.instance}setLoaders(e,t){this._uiSystemLoader=e,this._uiThemeLoader=t}set(e,t,r="runtime"){const i={source:r,version:++this.versionCounter,timestamp:Date.now()};this.cache.set(e,{value:t,meta:i}),this.notify(e,t,i)}get(e){const t=this.cache.get(e);return t==null?void 0:t.value}getMeta(e){const t=this.cache.get(e);return t==null?void 0:t.meta}subscribe(e,t,r=!0){if(this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),r&&this.cache.has(e)){const i=this.cache.get(e);t(i.value,i.meta)}return()=>{var i;(i=this.listeners.get(e))==null||i.delete(t)}}notify(e,t,r){var i;(i=this.listeners.get(e))==null||i.forEach(o=>o(t,r))}async loadAndCacheAll(){if(this.logger.debug("[SysCacheService.loadAndCacheAll()] start"),!this._uiSystemLoader||!this._uiThemeLoader)throw new Error("SysCacheService: loaders must be set before load.");if(this.cache.size>0)return;console.log("[SysCacheService] Eager load starting");const e=this.get("shellConfig")??await this.configService.loadConfig(),t=e.uiConfig||{};this.set("shellConfig",e,"static"),this.set("envConfig",e.envConfig||{},"static"),this.set("uiConfig",t,"static");const r=await this._uiSystemLoader.fetchAvailableSystems(t);this.cacheUiSystems(r,"static");const i=await this._uiThemeLoader.fetchAvailableThemes(t);this.set("themes",i.themes||[],"static"),this.set("formVariants",i.variants||[],"static"),this.set("themeDescriptors",i.descriptors||[],"static"),this.set("uiConfigNormalized",i.uiConfig||t,"static"),console.log("[SysCacheService] Load complete")}getUiSystems(){return this.get("uiSystems")||[]}getThemes(){return this.get("themes")||[]}getFormVariants(){return this.get("formVariants")||[]}getThemeDescriptors(){return this.get("themeDescriptors")||[]}getConfig(){return this.get("uiConfigNormalized")||{}}getEnvConfig(){return this.get("envConfig")||{}}getConsumerGuid(){var t;const e=this.getEnvConfig();return(e==null?void 0:e.consumerGuid)||((t=e==null?void 0:e.clientContext)==null?void 0:t.consumerToken)}getApiEndpoint(){var e;return(e=this.getEnvConfig())==null?void 0:e.apiEndpoint}async ensureReady(){this.cache.size===0&&await this.loadAndCacheAll()}normalizeUiSystemDescriptors(e){this.logger.debug("[SysCacheService.normalizeUiSystemDescriptors()] start");const t=e.map(i=>({id:i.id,name:i.name,version:i.version,description:i.description,cssUrl:i.cssUrl,jsUrl:i.jsUrl,assetPath:i.assetPath,stylesheets:i.stylesheets||[],scripts:i.scripts||[],themesAvailable:i.themesAvailable||[],themeActive:i.themeActive||null,conceptMappings:i.conceptMappings||{},directiveMap:i.directiveMap||{},tokenMap:i.tokenMap||{},containers:i.containers||[],components:i.components||[],renderRules:i.renderRules||{},metadata:i.metadata||{},extensions:i.extensions||{},author:i.author,license:i.license,repository:i.repository,displayName:i.displayName||i.name}));return{simple:t.map(i=>({id:i.id,name:i.name,displayName:i.displayName,themesAvailable:i.themesAvailable})),full:t}}cacheUiSystems(e,t="static"){this.logger.debug("[SysCacheService.cacheUiSystems()] start");const{simple:r,full:i}=this.normalizeUiSystemDescriptors(e);this.set("uiSystems",r,t),this.set("uiSystemDescriptors",i,t),this.set("uiSystemsNormalized",{simple:r,full:i},t),console.log("[SysCacheService] UI systems cached",{simpleCount:r.length,fullCount:i.length,source:t})}hasConsumerContext(){var e;return!!((e=this.get("shellConfig:meta"))!=null&&e.hasConsumerProfile)}applyResolvedShellConfig(e,t="resolved"){if(this.logger.debug("[SysCacheService.applyResolvedShellConfig()] start"),this.logger.debug("[SysCacheService.applyResolvedShellConfig()] resolvedShellConfig:",e),!e)return;const r=e.uiConfig||{},i=e.envConfig||{};this.set("shellConfig",e,t),this.set("uiConfig",r,t),this.set("envConfig",i,t),this.set("uiConfigNormalized",r,t),this.set("shellConfig:meta",{hasConsumerProfile:!0,appliedAt:Date.now()},t),console.log("[SysCacheService] Resolved shell config applied",{defaultUiSystemId:r.defaultUiSystemId,defaultThemeId:r.defaultThemeId,source:t})}getUiSystemById(e){return(this.get("uiSystemDescriptors")||[]).find(r=>r.id===e)}getThemeById(e){return(this.get("themeDescriptors")||[]).find(r=>r.id===e)}resolveTheme(e){if(e)return typeof e=="string"?this.getThemeById(e):e}resolveUiSystem(e){if(e)return typeof e=="string"?this.getUiSystemById(e):e}}var Pe=(n=>(n.INIT="init",n.SHELL_READY="shell_ready",n.MENU_READY="menu_ready",n.CONTROLLER_READY="controller_ready",n.DOM_STABLE="dom_stable",n))(Pe||{}),G=(n=>(n.CREATED="created",n.INITIALIZED="initialized",n.ACTIVATED="activated",n.MAPPED="mapped",n.OBSERVING="observing",n.THEMED="themed",n))(G||{});const hn=["created","initialized","activated","mapped","observing","themed"];class $r{constructor(){this.logger=new De({context:this.constructor.name}),this.descriptor=null,this.lifecycle=G.CREATED,this.shellPhase=Pe.INIT}assertLifecycle(e,t){if(this.lifecycle!==e){const r=`Lifecycle violation | required=${e} | current=${this.lifecycle}`+(t?` | action=${t}`:"");throw this.log("error","lifecycle:violation",r),new Error(`[UiAdapterLifecycleError] ${r}`)}}transitionTo(e){const t=hn.indexOf(this.lifecycle),r=hn.indexOf(e);if(r===-1)throw new Error(`Unknown lifecycle state: ${e}`);if(r<=t){this.log("debug","lifecycle:transition:skip",`Lifecycle unchanged (${this.lifecycle}  ${e})`);return}const i=this.lifecycle;this.lifecycle=e,this.log("debug","lifecycle:transition",`Lifecycle transition: ${i}  ${e}`)}assertAtLeastLifecycle(e,t){if(this.lifecycle<e){const r=`Lifecycle violation | required>=${e} | current=${this.lifecycle} | action=${t}`;throw this.log("error","lifecycle:violation",r),new Error(r)}}markInitialized(){this.transitionTo(G.INITIALIZED)}markActivated(){this.transitionTo(G.ACTIVATED)}setPhase(e,t){if(this.shellPhase===e)return;const r=this.shellPhase;this.shellPhase=e,this.log("info","phase:change",`Phase changed ${r}  ${e}`,{reason:t})}isPhaseAtLeast(e){const t=[Pe.INIT,Pe.SHELL_READY,Pe.MENU_READY,Pe.CONTROLLER_READY,Pe.DOM_STABLE];return t.indexOf(this.shellPhase)>=t.indexOf(e)}requirePhase(e,t){return this.isPhaseAtLeast(e)?!0:(this.log("debug","phase:skip",`Skipped '${t}'  phase '${this.shellPhase}' < '${e}'`),!1)}onShellPhase(e){this.shellPhase=e,this.logger.debug(`[UI-ADAPTER:${this.adapterId}] shell phase  ${e}`)}setMeta(e){this.meta=e}getMeta(){return this.meta??null}get id(){var e;return(e=this.meta)==null?void 0:e.id}get version(){var e;return(e=this.meta)==null?void 0:e.version}get status(){var e;return(e=this.meta)==null?void 0:e.status}async activate(e){this.assertLifecycle(G.CREATED,"activate"),this.descriptor=e??null,this.log("info","activate:start","Adapter activation started"),this.markInitialized(),this.meta.status!==Gt.ACTIVE&&this.log("warn","adapter:status",`Adapter status = ${this.meta.status}`),this.beforeActivate(e),await this.onActivate(e),this.afterActivate(e),this.markActivated(),this.log("info","activate:end","Adapter activation completed")}async deactivate(){this.log("info","deactivate:start","Adapter deactivation started"),this.beforeDeactivate(),await this.onDeactivate(),this.afterDeactivate(),this.descriptor=null,this.log("info","deactivate:end","Adapter deactivation completed")}async applyTheme(e){if(this.assertLifecycle(G.ACTIVATED,"applyTheme"),!e){this.log("debug","theme:skip","No theme descriptor provided");return}this.log("info","theme:apply:start",`Applying theme '${e.id??e.name??"unknown"}'`),this.beforeApplyTheme(e),this.onApplyTheme(e),this.afterApplyTheme(e),this.transitionTo(G.THEMED),this.log("info","theme:apply:end",`Theme '${e.id}' applied`)}beforeActivate(e){}afterActivate(e){}beforeDeactivate(){}async onDeactivate(){}afterDeactivate(){}beforeApplyTheme(e){}afterApplyTheme(e){}markDomStable(e){this.setPhase(Pe.DOM_STABLE,e)}mapLayoutByDescriptor(e,t){this.supportsLayout(e.layoutType)&&this.mapLayout(e,t)}mapLayout(e,t){}getCapabilities(){return this.capabilities}supportsLayout(e){var r;const t=((r=this.capabilities.layouts)==null?void 0:r.includes(e))??!1;return t||this.log("debug","capability:layout",`Layout '${e}' not supported  skipped`),t}supportsContainer(e){var r;const t=((r=this.capabilities.containers)==null?void 0:r.includes(e))??!1;return t||this.log("debug","capability:container",`Container '${e}' not supported  skipped`),t}supportsControl(e){var r;const t=((r=this.capabilities.controls)==null?void 0:r.includes(e))??!1;return t||this.log("debug","capability:control",`Control '${e}' not supported  skipped`),t}log(e,t,r,i){var s;const o=`[UI-ADAPTER:${((s=this.meta)==null?void 0:s.id)??"unknown"}] ${t}`;switch(e){case"debug":this.logger.debug(o,r,i);break;case"info":this.logger.info(o,r,i);break;case"warn":this.logger.warn(o,r,i);break;case"error":this.logger.error(o,r,i);break}}logLegacy(e,t,r){this.log("warn",`legacy:${e}`,t,r)}logDeprecated(e,t,r){this.log("warn",`deprecated:${e}`,t,r)}createTabsSkeleton(e){const t=document.createElement("ul");t.setAttribute("role","tablist");const r=document.createElement("div");return{nav:t,content:r}}createTabHeader(e,t,r,i=!1){const o=document.createElement("li");o.className="nav-item",o.setAttribute("role","presentation");const s=document.createElement("button");if(s.className=`nav-link ${i?"active":""}`,s.id=`${e}-tab`,s.type="button",s.setAttribute("role","tab"),s.setAttribute("aria-selected",String(i)),s.setAttribute("data-bs-target",`#${e}-pane`),r){const a=document.createElement("i");a.className=`bi bi-${r} me-2`,s.appendChild(a)}return s.appendChild(document.createTextNode(t)),o.appendChild(s),o}createTabPane(e,t=!1){const r=document.createElement("div");return r.className=`tab-pane fade ${t?"show active":""}`,r.id=`${e}-pane`,r.setAttribute("role","tabpanel"),r.setAttribute("aria-labelledby",`${e}-tab`),r}}const ar={id:"bootstrap-538",version:"5.3.8",themeActive:"light"};var Ur=(n=>(n.GRID="grid",n.FLEX="flex",n.STACK="stack",n.MASONRY="masonry",n))(Ur||{}),Be=(n=>(n.TABS="tabs",n.TAB="tab",n.CARD="card",n.ACCORDION="accordion",n.SECTION="section",n.DIALOG="dialog",n))(Be||{}),Le=(n=>(n.BUTTON="button",n.TEXT_FIELD="textField",n.CHECKBOX="checkbox",n.SELECT="select",n.SWITCH="switch",n))(Le||{}),Gt=(n=>(n.ACTIVE="ACTIVE",n.MARKED_FOR_DEPRECATION="MARKED_FOR_DEPRECATION",n.LEGACY="LEGACY",n))(Gt||{});function wa(n){return typeof n=="function"&&n.prototype instanceof $r}const Fr=class Fr{static register(e,t){console.log("[UiSystemAdapterRegistry] register:",e,t),this.registry.set(e,t)}static get(e){return this.registry.get(e)||null}static list(){return Array.from(this.registry.keys())}};Fr.registry=new Map;let Ae=Fr;const Ea=Object.freeze(Object.defineProperty({__proto__:null,UiSystemAdapterRegistry:Ae},Symbol.toStringTag,{value:"Module"})),xe=class xe{constructor(){this.logger=new De,this.config=null,this.CONFIG_PATH="/shell.config.json"}static getInstance(){return xe.instance||(xe.instance=new xe),xe.instance}async loadConfig(){if(this.config)return this.config;try{const e=await fetch(this.CONFIG_PATH);if(!e.ok)throw new Error(`Failed to load config ${e.status}`);return this.config=await e.json(),console.log("[ConfigService] loaded config:",this.config),this.config}catch(e){return console.error("[ConfigService] loadConfig error:",e),this.config={appName:"Corpdesk",fallbackTitle:"Corpdesk",appVersion:"0.0.0",appDescription:"",themeConfig:{currentThemePath:"/themes/default/theme.json",accessibleThemes:["default","dark"]},defaultModulePath:"sys/cd-user",logLevel:"debug",uiConfig:{defaultUiSystemId:"bootstrap-538",defaultThemeId:"default",defaultFormVariant:"standard",uiSystemBasePath:"/public/assets/ui-systems/"}},this.config}}async loadShellConfig(e,t){const r=await this.loadConfig(),i=this.applyConsumerShellConfig(r,e==null?void 0:e.shellConfig);return this.applyUserShellConfigWithPolicy(i,t==null?void 0:t.shellConfig,e==null?void 0:e.shellConfig)}async resolveShellConfig(e,t){this.logger.debug("[ConfigService.resolveShellConfig] start");const r=await this.loadConfig(),i=!!e&&typeof e=="object"&&typeof e.shellConfig=="object"&&e.shellConfig!==null,o=!!t&&typeof t=="object"&&typeof t.shellConfig=="object"&&t.shellConfig!==null;this.logger.info("[ConfigService.resolveShellConfig] input integrity",{hasConsumerProfile:!!e,hasConsumerShellConfig:i,hasUserProfile:!!t,hasUserShellConfig:o}),e&&!i&&this.logger.error("[ConfigService.resolveShellConfig] consumerProfile present but shellConfig missing or invalid",{consumerProfile:e,degradation:"Consumer policy ignored"}),t&&!o&&this.logger.warn("[ConfigService.resolveShellConfig] userProfile present but shellConfig missing or invalid",{userProfile:t,degradation:"User overrides ignored"});const s=i?e.shellConfig:void 0,a=o?t.shellConfig:void 0,c=this.applyConsumerShellConfig(r,s),l=this.applyUserShellConfigWithPolicy(c,a,s);return this.logger.debug("[ConfigService.resolveShellConfig] resolved",l),l}hasValidConsumerShellConfig(e){return!!(e&&typeof e=="object"&&e.shellConfig&&typeof e.shellConfig=="object")}applyConsumerShellConfig(e,t){return t?{...e,...t,uiConfig:{...e.uiConfig,...t.uiConfig},themeConfig:{...e.themeConfig,...t.themeConfig}}:e}applyUserShellConfigWithPolicy(e,t,r){var a,c,l;if(this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] start"),this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] base:",e),this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] userShell:",t),this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] consumerShell:",r),!t)return this.logger.debug("[ConfigService] No user shell config  base config retained"),e;if(!r)return this.logger.info("[ConfigService] USER_ONLY context  applying unrestricted user shell config"),{...e,...t,uiConfig:{...e.uiConfig,...t.uiConfig},themeConfig:{...e.themeConfig,...t.themeConfig}};this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] userProfile and consumerProfile present  enforcing lockDown and allowedOptions");const i=r.lockDown??{},o=r.allowedOptions??{};this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] lockDown:",i),this.logger.debug("[ConfigService.applyUserShellConfigWithPolicy()] allowed:",o);const s=(u,m,C,P)=>u||C===void 0?P:m&&!m.includes(C)?(console.info("[ConfigService] user value rejected by allowedOptions",C),P):C;return{...e,uiConfig:{...e.uiConfig,defaultUiSystemId:s(i.uiSystem,o.uiSystems,(a=t.uiConfig)==null?void 0:a.defaultUiSystemId,e.uiConfig.defaultUiSystemId),defaultThemeId:s(i.theme,o.themes,(c=t.uiConfig)==null?void 0:c.defaultThemeId,e.uiConfig.defaultThemeId),defaultFormVariant:s(i.formVariant,o.formVariants,(l=t.uiConfig)==null?void 0:l.defaultFormVariant,e.uiConfig.defaultFormVariant)}}}getUiConfig(){if(!this.config)throw new Error("ConfigService: config not loaded; call loadConfig()");return this.config.uiConfig}async seedStaticShellConfig(e){console.log("%c[PHASE 1][ConfigService] Loading static shell config","color:#4CAF50;font-weight:bold");const t=await this.loadShellConfig();return console.log("%c[PHASE 1][ConfigService] Seeding static config into SysCache","color:#4CAF50"),e.set("shellConfig",t,"static"),e.set("envConfig",t.envConfig||{},"static"),e.set("uiConfig",t.uiConfig||{},"static"),console.log("%c[PHASE 1][ConfigService] Static shell config seeded","color:#4CAF50",{hasEnv:!!t.envConfig,hasUi:!!t.uiConfig}),t}async promoteResolvedShellConfig(e,t,r){this.logger.debug("[ConfigService.promoteResolvedShellConfig] start");const i=this.classifyResolutionContext(t,r);this.logger.debug("[ConfigService.promoteResolvedShellConfig] resolutionMode:",i);const o=this.mapResolutionModeToCacheSource(i);console.groupCollapsed("%c[PHASE 2][ConfigService] Promote resolved shell config","color:#4CAF50"),this.logger.info("[PHASE 2] Resolution context",{resolutionMode:i,cacheSource:o,hasConsumer:!!t,hasUser:!!r});const s=await this.resolveShellConfig(t,r);return console.log("[PHASE 2] resolvedShellConfig:",s),e.set("shellConfig",s,o),e.set("envConfig",s.envConfig||{},o),e.set("uiConfig",s.uiConfig||{},o),console.log("[PHASE 2] Cache promotion complete",{cacheSource:o}),console.groupEnd(),s}classifyResolutionContext(e,t){return e&&t?"FULL_CONTEXT":e&&!t?"CONSUMER_ONLY":!e&&t?"USER_ONLY":"STATIC_ONLY"}mapResolutionModeToCacheSource(e){switch(e){case"STATIC_ONLY":return"static";case"CONSUMER_ONLY":return"consumer";case"USER_ONLY":return"user";case"FULL_CONTEXT":return"user";default:return"static"}}};xe.instance=null;let et=xe;const Ce=class Ce{constructor(e){this.configService=et.getInstance(),this.sysCache=e}static getInstance(e){if(!Ce.instance){if(!e)throw new Error("UiThemeLoaderService.getInstance requires SysCacheService on first call.");Ce.instance=new Ce(e)}return Ce.instance}async fetchAvailableThemes(e){var s,a;console.log("[UiThemeLoaderService][fetchAvailableThemes] start",e);const t=e&&e.accessibleThemes||((a=(s=this.configService.config)==null?void 0:s.themeConfig)==null?void 0:a.accessibleThemes)||["default","dark"],r=[];for(const c of t){const l=`/themes/${c}/theme.json`;try{const u=await fetch(l);if(!u.ok){console.warn(`[UiThemeLoaderService] theme descriptor not found: ${l}`);continue}const m=await u.json();r.push(m)}catch(u){console.warn(`[UiThemeLoaderService] error fetching theme descriptor ${l}`,u)}}return{themes:r.map(c=>({id:c.id,name:c.name})),variants:[{id:"standard",name:"Standard"},{id:"compact",name:"Compact"},{id:"floating",name:"Floating"}],descriptors:r,uiConfig:e}}async loadThemeById(e){L("[UiThemeLoaderService.loadThemeById] start",{themeId:e}),document.querySelectorAll("link[data-cd-theme]").forEach(i=>i.remove());const t=this.getThemeDescriptor(e);if(!t){L("[UiThemeLoaderService.loadThemeById] descriptor not found",{themeId:e});const i=`/themes/${e}/theme.css`;await this.injectStyle(i,e,"theme");return}const r=t.css||t.cssPath||`/themes/${e}/theme.css`;await this.injectStyle(r,e,"theme"),L("[UiThemeLoaderService.loadThemeById] loaded",{themeId:e,cssPath:r})}getThemeDescriptor(e){return(this.sysCache.get("themeDescriptors")||[]).find(r=>r.id===e)}async loadFormVariant(e="standard"){document.querySelectorAll("link[data-cd-form]").forEach(r=>r.remove());const t=`/themes/common/forms/variants/cd-form-${e}.css`;await this.injectStyle(t,e,"form")}async injectStyle(e,t,r="theme"){return new Promise((i,o)=>{try{const s=document.head||document.getElementsByTagName("head")[0];if(!s)return o(new Error("document.head missing"));const a=document.createElement("link");a.rel="stylesheet",a.href=e,r==="theme"?a.setAttribute("data-cd-theme",t):a.setAttribute("data-cd-form",t),a.onload=()=>i(),a.onerror=c=>o(new Error(`failed to load ${e}`)),s.insertAdjacentElement("beforeend",a)}catch(s){o(s)}})}getActiveThemeId(){return console.log("[UiThemeLoaderService][getActiveThemeId] start."),localStorage.getItem(Ce.ACTIVE_THEME_KEY)||""}getActiveFormVariantId(){return localStorage.getItem(Ce.ACTIVE_FORM_VARIANT_KEY)||"standard"}};Ce.ACTIVE_THEME_KEY="cd-active-theme-id",Ce.ACTIVE_FORM_VARIANT_KEY="cd-active-form-variant",Ce.instance=null;let Nt=Ce;const Nr=class Nr{static normalize(e,t){var s,a,c,l;if(!e||typeof e!="object")throw new Error("[UiThemeNormalizer] Invalid theme input");const r=(t==null?void 0:t.source)??"legacy",i=new Set;Array.isArray(e.stylesheets)&&e.stylesheets.forEach(u=>i.add(u)),(s=e.css)!=null&&s.paths&&e.css.paths.forEach(u=>i.add(u));const o={...e,mode:e.mode??"auto",css:i.size||(a=e.css)!=null&&a.inline?{paths:i.size?Array.from(i):void 0,inline:(c=e.css)==null?void 0:c.inline}:void 0,meta:{source:r,uiSystem:t==null?void 0:t.uiSystemId,version:(l=e.meta)==null?void 0:l.version,normalizedAt:Date.now()}};return this.logger.debug("Theme normalized",{id:o.id,source:r,uiSystem:t==null?void 0:t.uiSystemId}),o}};Nr.logger=new De("UiThemeNormalizer");let Ar=Nr;const $e=class $e{constructor(e){this.logger=new De,this.activeSystem=null,this.splashAnimDone=!1,this.appReady=!1,this.uiReady=!1,this.uiMutationTimer=null,this.sysCache=e}static getInstance(e){if(!$e.instance){if(!e)throw new Error("UiSystemLoaderService.getInstance requires SysCacheService on first call.");$e.instance=new $e(e)}return $e.instance}async fetchAvailableSystems(e){const t=e.uiSystemBasePath||"/public/assets/ui-systems/",r=Ae.list();console.log("[UiSystemLoaderService] Registered UI Systems:",r);const i=[];for(const o of r){const s=`${t}${o}/descriptor.json`;try{console.log(`[UiSystemLoaderService] Loading descriptor: ${s}`);const a=await fetch(s);if(!a.ok)throw new Error(`HTTP ${a.status}`);const c=await a.json(),l=`${t}${o}/`;i.push({...c,id:o,cssUrl:c.cssUrl?l+c.cssUrl:void 0,jsUrl:c.jsUrl?l+c.jsUrl:void 0,stylesheets:(c.stylesheets||[]).map(u=>l+u),scripts:(c.scripts||[]).map(u=>l+u),themesAvailable:c.themesAvailable||[],themeActive:c.themeActive||null,conceptMappings:c.conceptMappings||{},directiveMap:c.directiveMap||{}})}catch(a){console.warn(`[UiSystemLoaderService] Failed to load ${s}`,a);const c=`${t}${o}/`;i.push({id:o,name:o,version:"unknown",cssUrl:`${c}${o}.min.css`,jsUrl:`${c}${o}.min.js`,stylesheets:[],scripts:[],conceptMappings:{},themesAvailable:[],themeActive:null})}}return i}list(){return this.sysCache.get("uiSystems")||[]}getSystemById(e){return(this.sysCache.get("uiSystems")||[]).find(r=>r.id===e)}async activate(e){var l;if(L("[UiSystemLoaderService.activate] START",{id:e}),await this.sysCache.ensureReady(),!e){const u=(l=this.detectUiSystem)==null?void 0:l.call(this);u!=null&&u.id&&(e=u.id)}const t=this.getFullDescriptor(e);console.log("[UiSystemLoaderService.activate] descriptorFromCache:",t);const r={id:e,cssUrl:`/assets/ui-systems/${e}/${e}.min.css`,jsUrl:`/assets/ui-systems/${e}/${e}.min.js`,assetPath:`/assets/ui-systems/${e}`,stylesheets:[],scripts:[],conceptMappings:{},directiveMap:{},metadata:{},extensions:{}},i=t||r;this.activeSystem=i,Ae.get(e).setMeta({id:i.id,name:i.name,version:i.version,status:i.deprecated?"MARKED_FOR_DEPRECATION":"ACTIVE"});try{window.CdActiveUiDescriptor=i,window.CD_ACTIVE_UISYSTEM=e,window.CdShellActiveUiSystem=e}catch(u){console.warn("[UiSystemLoaderService.activate] Could not set global descriptor",u)}document.querySelectorAll("link[data-cd-uisystem], script[data-cd-uisystem]").forEach(u=>u.remove()),L("[UiSystemLoaderService.activate] REMOVED OLD SYSTEM ASSETS",{});const s=i.cssUrl||`${i.assetPath||`/assets/ui-systems/${e}`}/bootstrap.min.css`,a=i.jsUrl||`${i.assetPath||`/assets/ui-systems/${e}`}/${e}.min.js`,c=`${i.assetPath||`/assets/ui-systems/${e}`}/bridge.css`;L("[UiSystemLoaderService.activate] RESOLVED PATHS",{cssPath:s,jsPath:a,bridgeCssPath:c});try{await this.loadCSS(s,e),L("[UiSystemLoaderService.activate] CSS LOADED",{cssPath:s})}catch(u){L("[UiSystemLoaderService.activate] CSS LOAD FAILED",{cssPath:s,err:u})}try{await this.loadCSS(c,`${e}-bridge`),L("[UiSystemLoaderService.activate] BRIDGE CSS LOADED",{bridgeCssPath:c})}catch(u){console.log(`[UiSystemLoaderService.activate] bridge.css not found for ${e} (optional)`),L("[UiSystemLoaderService.activate] BRIDGE CSS LOAD FAILED",{bridgeCssPath:c,err:u})}try{await this.loadScript(a,e),L("[UiSystemLoaderService.activate] SCRIPT LOADED",{jsPath:a})}catch(u){console.warn("[UiSystemLoaderService.activate] script load failed",u),L("[UiSystemLoaderService.activate] SCRIPT LOAD FAILED",{jsPath:a,err:u})}try{const{UiSystemAdapterRegistry:u}=await Q(async()=>{const{UiSystemAdapterRegistry:C}=await Promise.resolve().then(()=>Ea);return{UiSystemAdapterRegistry:C}},[]),m=u.get(e);m&&typeof m.activate=="function"?(await m.activate(i),L("[UiSystemLoaderService.activate] ADAPTER ACTIVATED",{id:e})):console.log(`[UiSystemLoaderService.activate] No in-app adapter registered for ${e} (skipping)`)}catch(u){console.warn("[UiSystemLoaderService.activate] adapter activation failed",u)}L("[UiSystemLoaderService.activate] COMPLETE",{activeSystem:e})}async applyTheme(e,t){L("[UiSystemLoaderService.applyTheme] start",{systemId:e,themeId:t});const r=Ae.get(e);if(console.log("[UiSystemLoaderService.applyTheme] adapter received:",r),!r){console.warn("[UiSystemLoaderService.applyTheme] no adapter for",e);return}const i=this.sysCache.get("themeDescriptors")||[];console.log("[UiSystemLoaderService][applyTheme] descriptors:",i);const o=i.find(s=>s.id===t);console.log("[UiSystemLoaderService][applyTheme] descriptors:",o),await r.applyTheme(o||t),L("[UiSystemLoaderService.applyTheme] done",{systemId:e,themeId:t})}async loadCSS(e,t){return L("[UiSystemLoaderService.loadCSS] REQUEST",{path:e,id:t}),new Promise((r,i)=>{try{const o=document.head||document.getElementsByTagName("head")[0];if(!o)return i(new Error("document.head missing"));const s=document.createElement("link");s.rel="stylesheet",s.href=e,s.setAttribute("data-cd-uisystem",t),s.setAttribute("data-cd-origin","ui-system"),s.onload=()=>{const a=s.href;L("[UiSystemLoaderService.loadCSS] LOADED",{path:e,id:t,resolved:a,order:Array.from(o.querySelectorAll("link")).map(c=>c.href)}),r(a)},s.onerror=a=>{L("[UiSystemLoaderService.loadCSS] ERROR",{path:e,id:t,ev:a}),i(new Error(`Failed to load CSS: ${e}`))},o.insertAdjacentElement("beforeend",s)}catch(o){L("[UiSystemLoaderService.loadCSS] EXCEPTION",{path:e,id:t,err:o}),i(o)}})}async loadScript(e,t){return new Promise((r,i)=>{try{const o=document.createElement("script");o.src=e,o.async=!0,o.setAttribute("data-cd-uisystem",t),o.setAttribute("data-cd-origin","ui-system"),o.onload=()=>r(),o.onerror=a=>i(a);const s=document.body||document.getElementsByTagName("body")[0];if(!s)return i(new Error("document.body missing"));s.appendChild(o)}catch(o){i(o)}})}getActive(){return console.log("[UiSystemLoaderService][getActive] start."),this.activeSystem}detectFromRuntime(){return window.CdShellActiveUiSystem||window.CD_ACTIVE_UISYSTEM||null}detectFromMeta(){const e=document.querySelector('meta[name="cd-uiform"]');return(e==null?void 0:e.content)||null}detectUiSystem(){const e=this.detectFromRuntime();if(e)return{...ar,id:e};const t=this.detectFromMeta();return t?{...ar,id:t}:ar}getFullDescriptor(e){return this.logger.debug("[UiSystemLoaderService.getFullDescriptor()] start"),(this.sysCache.get("uiSystemDescriptors")||[]).find(r=>r.id===e)}async applyStartupUiSettings(e){this.logger.debug("[UiSystemLoaderService.applyStartupUiSettings()] start"),await e.ensureReady();const t=e.get("uiConfig");if(!t){this.logger.warn("[applyStartupUiSettings] uiConfig missing");return}const r=t.defaultUiSystemId,i=t.defaultThemeId;L("[MAIN.applyStartupUiSettings] start",{systemId:r,themeId:i});const o=$e.getInstance(e),s=Nt.getInstance(e);try{await o.activate(r),L("[MAIN.applyStartupUiSettings] ui-system activated",{systemId:r})}catch(l){this.logger.error("[applyStartupUiSettings] activate failed",l);return}try{await o.loadCSS("/themes/common/base.css","shell-base"),await o.loadCSS("/assets/css/index.css","shell-index"),L("[MAIN.applyStartupUiSettings] shell CSS loaded")}catch(l){this.logger.warn("[applyStartupUiSettings] shell CSS load failed",l)}try{await s.loadThemeById(i),L("[MAIN.applyStartupUiSettings] theme assets loaded",{themeId:i})}catch(l){this.logger.warn("[applyStartupUiSettings] theme load failed",l)}const a=e.getThemeById(i);a||this.logger.warn("[applyStartupUiSettings] theme descriptor missing",i);const c=a?Ar.normalize(a,{uiSystemId:r,source:"static"}):null;c&&e.set("theme:normalized",c,"runtime");try{await o.applyTheme(r,i),L("[MAIN.applyStartupUiSettings] system applyTheme complete")}catch(l){this.logger.warn("[applyStartupUiSettings] applyTheme failed",l)}L("[MAIN.applyStartupUiSettings] done")}async showSplash(e){return new Promise(async t=>{var c,l;const r=document.getElementById("cd-splash");if(!r)return t();const i=await e.loadConfig(),o=(c=i.splash)==null?void 0:c.path,s=((l=i.splash)==null?void 0:l.minDuration)??3e3;this.logger.debug("[Splash] loading",{path:o,minDuration:s});const a=await fetch(o).then(u=>u.text());r.innerHTML=a,r.style.display="block",setTimeout(()=>{this.logger.debug("[Splash] animation completed"),this.splashAnimDone=!0,this.tryHideSplash()},s),t()})}async tryHideSplash(){if(!this.splashAnimDone||!this.appReady){this.logger.debug("[Splash] waiting",{splashAnimDone:this.splashAnimDone,appReady:this.appReady});return}this.logger.debug("[Splash] conditions met  hiding splash"),await this.hideSplash()}async hideSplash(){return new Promise(e=>{const t=document.getElementById("cd-splash"),r=document.getElementById("cd-root");if(!t)return e();const i=t.querySelector("#splash-container");i==null||i.classList.add("fade-out"),setTimeout(()=>{t.remove(),r&&(r.style.visibility="visible"),this.logger.debug("[Splash] removed, app revealed"),e()},800)})}revealApp(){const e=document.getElementById("cd-root");e&&(e.style.visibility="visible")}async bootstrapUiSystemAndTheme(e){this.logger.debug("[UiSystemLoaderService.bootstrapUiSystemAndTheme()] start"),await this.applyStartupUiSettings(e),L("UI-System + Theme applied")}async renderSidebar(e,t,r){try{const o=await(await fetch(r.themeConfig.currentThemePath)).json();e.renderMenuWithSystem(t,o);const s=document.getElementById("cd-sidebar");s&&(!s.innerHTML||s.innerHTML.trim()==="")&&e.renderPlainMenu(t,"cd-sidebar"),L("Sidebar rendered"),ya()}catch(i){console.error("[Main] Failed rendering menu",i)}}setupMobileUx(){const e=document.getElementById("cd-burger"),t=document.getElementById("cd-sidebar"),r=document.getElementById("cd-overlay");if(!e||!t||!r)return;const i=()=>window.matchMedia("(max-width: 900px)").matches,o=()=>{i()||(t.classList.remove("open"),r.classList.add("hidden"),e.classList.remove("open"))};e.addEventListener("click",()=>{e.classList.toggle("open"),t.classList.toggle("open"),r.classList.toggle("hidden")}),r.addEventListener("click",()=>{e.classList.remove("open"),t.classList.remove("open"),r.classList.add("hidden")}),window.addEventListener("resize",o),o()}notifyUiMutation(){this.uiMutationTimer&&clearTimeout(this.uiMutationTimer),this.uiMutationTimer=window.setTimeout(()=>{this.uiReady=!0,this.tryReveal()},150)}tryReveal(){this.appReady&&this.uiReady&&(this.hideSplash(),this.revealApp())}};$e.instance=null;let Bt=$e;function ri(n,e){return function(){return n.apply(e,arguments)}}const{toString:Ca}=Object.prototype,{getPrototypeOf:kr}=Object,{iterator:Wt,toStringTag:ni}=Symbol,Jt=(n=>e=>{const t=Ca.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Te=n=>(n=n.toLowerCase(),e=>Jt(e)===n),Yt=n=>e=>typeof e===n,{isArray:nt}=Array,tt=Yt("undefined");function ht(n){return n!==null&&!tt(n)&&n.constructor!==null&&!tt(n.constructor)&&ge(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ii=Te("ArrayBuffer");function Ta(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&ii(n.buffer),e}const _a=Yt("string"),ge=Yt("function"),oi=Yt("number"),mt=n=>n!==null&&typeof n=="object",Ma=n=>n===!0||n===!1,Rt=n=>{if(Jt(n)!=="object")return!1;const e=kr(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ni in n)&&!(Wt in n)},Oa=n=>{if(!mt(n)||ht(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Ia=Te("Date"),Pa=Te("File"),Ra=Te("Blob"),La=Te("FileList"),Da=n=>mt(n)&&ge(n.pipe),$a=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ge(n.append)&&((e=Jt(n))==="formdata"||e==="object"&&ge(n.toString)&&n.toString()==="[object FormData]"))},Ua=Te("URLSearchParams"),[ka,ja,xa,Fa]=["ReadableStream","Request","Response","Headers"].map(Te),Na=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yt(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),nt(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(ht(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let a;for(r=0;r<s;r++)a=o[r],e.call(null,n[a],a,n)}}function si(n,e){if(ht(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Fe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ai=n=>!tt(n)&&n!==Fe;function wr(){const{caseless:n,skipUndefined:e}=ai(this)&&this||{},t={},r=(i,o)=>{const s=n&&si(t,o)||o;Rt(t[s])&&Rt(i)?t[s]=wr(t[s],i):Rt(i)?t[s]=wr({},i):nt(i)?t[s]=i.slice():(!e||!tt(i))&&(t[s]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&yt(arguments[i],r);return t}const Ba=(n,e,t,{allOwnKeys:r}={})=>(yt(e,(i,o)=>{t&&ge(i)?n[o]=ri(i,t):n[o]=i},{allOwnKeys:r}),n),qa=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Ha=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},za=(n,e,t,r)=>{let i,o,s;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!a[s]&&(e[s]=n[s],a[s]=!0);n=t!==!1&&kr(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Va=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Ga=n=>{if(!n)return null;if(nt(n))return n;let e=n.length;if(!oi(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Wa=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&kr(Uint8Array)),Ja=(n,e)=>{const r=(n&&n[Wt]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Ya=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},Ka=Te("HTMLFormElement"),Xa=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),mn=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Za=Te("RegExp"),ci=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};yt(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},Qa=n=>{ci(n,(e,t)=>{if(ge(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ge(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ec=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return nt(n)?r(n):r(String(n).split(e)),t},tc=()=>{},rc=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function nc(n){return!!(n&&ge(n.append)&&n[ni]==="FormData"&&n[Wt])}const ic=n=>{const e=new Array(10),t=(r,i)=>{if(mt(r)){if(e.indexOf(r)>=0)return;if(ht(r))return r;if(!("toJSON"in r)){e[i]=r;const o=nt(r)?[]:{};return yt(r,(s,a)=>{const c=t(s,i+1);!tt(c)&&(o[a]=c)}),e[i]=void 0,o}}return r};return t(n,0)},oc=Te("AsyncFunction"),sc=n=>n&&(mt(n)||ge(n))&&ge(n.then)&&ge(n.catch),li=((n,e)=>n?setImmediate:e?((t,r)=>(Fe.addEventListener("message",({source:i,data:o})=>{i===Fe&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Fe.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ge(Fe.postMessage)),ac=typeof queueMicrotask<"u"?queueMicrotask.bind(Fe):typeof process<"u"&&process.nextTick||li,cc=n=>n!=null&&ge(n[Wt]),h={isArray:nt,isArrayBuffer:ii,isBuffer:ht,isFormData:$a,isArrayBufferView:Ta,isString:_a,isNumber:oi,isBoolean:Ma,isObject:mt,isPlainObject:Rt,isEmptyObject:Oa,isReadableStream:ka,isRequest:ja,isResponse:xa,isHeaders:Fa,isUndefined:tt,isDate:Ia,isFile:Pa,isBlob:Ra,isRegExp:Za,isFunction:ge,isStream:Da,isURLSearchParams:Ua,isTypedArray:Wa,isFileList:La,forEach:yt,merge:wr,extend:Ba,trim:Na,stripBOM:qa,inherits:Ha,toFlatObject:za,kindOf:Jt,kindOfTest:Te,endsWith:Va,toArray:Ga,forEachEntry:Ja,matchAll:Ya,isHTMLForm:Ka,hasOwnProperty:mn,hasOwnProp:mn,reduceDescriptors:ci,freezeMethods:Qa,toObjectSet:ec,toCamelCase:Xa,noop:tc,toFiniteNumber:rc,findKey:si,global:Fe,isContextDefined:ai,isSpecCompliantForm:nc,toJSONObject:ic,isAsyncFn:oc,isThenable:sc,setImmediate:li,asap:ac,isIterable:cc};function U(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}h.inherits(U,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const ui=U.prototype,di={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{di[n]={value:n}});Object.defineProperties(U,di);Object.defineProperty(ui,"isAxiosError",{value:!0});U.from=(n,e,t,r,i,o)=>{const s=Object.create(ui);h.toFlatObject(n,s,function(u){return u!==Error.prototype},l=>l!=="isAxiosError");const a=n&&n.message?n.message:"Error",c=e==null&&n?n.code:e;return U.call(s,a,c,t,r,i),n&&s.cause==null&&Object.defineProperty(s,"cause",{value:n,configurable:!0}),s.name=n&&n.name||"Error",o&&Object.assign(s,o),s};const lc=null;function Er(n){return h.isPlainObject(n)||h.isArray(n)}function fi(n){return h.endsWith(n,"[]")?n.slice(0,-2):n}function yn(n,e,t){return n?n.concat(e).map(function(i,o){return i=fi(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function uc(n){return h.isArray(n)&&!n.some(Er)}const dc=h.toFlatObject(h,{},null,function(e){return/^is[A-Z]/.test(e)});function Kt(n,e,t){if(!h.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=h.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,A){return!h.isUndefined(A[E])});const r=t.metaTokens,i=t.visitor||u,o=t.dots,s=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(e);if(!h.isFunction(i))throw new TypeError("visitor must be a function");function l(y){if(y===null)return"";if(h.isDate(y))return y.toISOString();if(h.isBoolean(y))return y.toString();if(!c&&h.isBlob(y))throw new U("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(y)||h.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,E,A){let R=y;if(y&&!A&&typeof y=="object"){if(h.endsWith(E,"{}"))E=r?E:E.slice(0,-2),y=JSON.stringify(y);else if(h.isArray(y)&&uc(y)||(h.isFileList(y)||h.endsWith(E,"[]"))&&(R=h.toArray(y)))return E=fi(E),R.forEach(function(j,W){!(h.isUndefined(j)||j===null)&&e.append(s===!0?yn([E],W,o):s===null?E:E+"[]",l(j))}),!1}return Er(y)?!0:(e.append(yn(A,E,o),l(y)),!1)}const m=[],C=Object.assign(dc,{defaultVisitor:u,convertValue:l,isVisitable:Er});function P(y,E){if(!h.isUndefined(y)){if(m.indexOf(y)!==-1)throw Error("Circular reference detected in "+E.join("."));m.push(y),h.forEach(y,function(R,F){(!(h.isUndefined(R)||R===null)&&i.call(e,R,h.isString(F)?F.trim():F,E,C))===!0&&P(R,E?E.concat(F):[F])}),m.pop()}}if(!h.isObject(n))throw new TypeError("data must be an object");return P(n),e}function gn(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function jr(n,e){this._pairs=[],n&&Kt(n,this,e)}const pi=jr.prototype;pi.append=function(e,t){this._pairs.push([e,t])};pi.toString=function(e){const t=e?function(r){return e.call(this,r,gn)}:gn;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function fc(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function hi(n,e,t){if(!e)return n;const r=t&&t.encode||fc;h.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=h.isURLSearchParams(e)?e.toString():new jr(e,t).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class vn{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){h.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pc=typeof URLSearchParams<"u"?URLSearchParams:jr,hc=typeof FormData<"u"?FormData:null,mc=typeof Blob<"u"?Blob:null,yc={isBrowser:!0,classes:{URLSearchParams:pc,FormData:hc,Blob:mc},protocols:["http","https","file","blob","url","data"]},xr=typeof window<"u"&&typeof document<"u",Cr=typeof navigator=="object"&&navigator||void 0,gc=xr&&(!Cr||["ReactNative","NativeScript","NS"].indexOf(Cr.product)<0),vc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bc=xr&&window.location.href||"http://localhost",Sc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xr,hasStandardBrowserEnv:gc,hasStandardBrowserWebWorkerEnv:vc,navigator:Cr,origin:bc},Symbol.toStringTag,{value:"Module"})),fe={...Sc,...yc};function Ac(n,e){return Kt(n,new fe.classes.URLSearchParams,{visitor:function(t,r,i,o){return fe.isNode&&h.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function wc(n){return h.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ec(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function yi(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=o>=t.length;return s=!s&&h.isArray(i)?i.length:s,c?(h.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!h.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&h.isArray(i[s])&&(i[s]=Ec(i[s])),!a)}if(h.isFormData(n)&&h.isFunction(n.entries)){const t={};return h.forEachEntry(n,(r,i)=>{e(wc(r),i,t,0)}),t}return null}function Cc(n,e,t){if(h.isString(n))try{return(e||JSON.parse)(n),h.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const gt={transitional:mi,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=h.isObject(e);if(o&&h.isHTMLForm(e)&&(e=new FormData(e)),h.isFormData(e))return i?JSON.stringify(yi(e)):e;if(h.isArrayBuffer(e)||h.isBuffer(e)||h.isStream(e)||h.isFile(e)||h.isBlob(e)||h.isReadableStream(e))return e;if(h.isArrayBufferView(e))return e.buffer;if(h.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ac(e,this.formSerializer).toString();if((a=h.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Kt(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),Cc(e)):e}],transformResponse:[function(e){const t=this.transitional||gt.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(h.isResponse(e)||h.isReadableStream(e))return e;if(e&&h.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(s)throw a.name==="SyntaxError"?U.from(a,U.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],n=>{gt.headers[n]={}});const Tc=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_c=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&Tc[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},bn=Symbol("internals");function st(n){return n&&String(n).trim().toLowerCase()}function Lt(n){return n===!1||n==null?n:h.isArray(n)?n.map(Lt):String(n)}function Mc(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const Oc=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function cr(n,e,t,r,i){if(h.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!h.isString(e)){if(h.isString(r))return e.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(e)}}function Ic(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Pc(n,e){const t=h.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let ve=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(a,c,l){const u=st(c);if(!u)throw new Error("header name must be a non-empty string");const m=h.findKey(i,u);(!m||i[m]===void 0||l===!0||l===void 0&&i[m]!==!1)&&(i[m||c]=Lt(a))}const s=(a,c)=>h.forEach(a,(l,u)=>o(l,u,c));if(h.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(h.isString(e)&&(e=e.trim())&&!Oc(e))s(_c(e),t);else if(h.isObject(e)&&h.isIterable(e)){let a={},c,l;for(const u of e){if(!h.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[l=u[0]]=(c=a[l])?h.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}s(a,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=st(e),e){const r=h.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return Mc(i);if(h.isFunction(t))return t.call(this,i,r);if(h.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=st(e),e){const r=h.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||cr(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(s){if(s=st(s),s){const a=h.findKey(r,s);a&&(!t||cr(r,r[a],a,t))&&(delete r[a],i=!0)}}return h.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||cr(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return h.forEach(this,(i,o)=>{const s=h.findKey(r,o);if(s){t[s]=Lt(i),delete t[o];return}const a=e?Ic(o):String(o).trim();a!==o&&delete t[o],t[a]=Lt(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return h.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&h.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[bn]=this[bn]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=st(s);r[a]||(Pc(i,s),r[a]=!0)}return h.isArray(e)?e.forEach(o):o(e),this}};ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(ve.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});h.freezeMethods(ve);function lr(n,e){const t=this||gt,r=e||t,i=ve.from(r.headers);let o=r.data;return h.forEach(n,function(a){o=a.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function gi(n){return!!(n&&n.__CANCEL__)}function it(n,e,t){U.call(this,n??"canceled",U.ERR_CANCELED,e,t),this.name="CanceledError"}h.inherits(it,U,{__CANCEL__:!0});function vi(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new U("Request failed with status code "+t.status,[U.ERR_BAD_REQUEST,U.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Rc(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Lc(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[o];s||(s=l),t[i]=c,r[i]=l;let m=o,C=0;for(;m!==i;)C+=t[m++],m=m%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),l-s<e)return;const P=u&&l-u;return P?Math.round(C*1e3/P):void 0}}function Dc(n,e){let t=0,r=1e3/e,i,o;const s=(l,u=Date.now())=>{t=u,i=null,o&&(clearTimeout(o),o=null),n(...l)};return[(...l)=>{const u=Date.now(),m=u-t;m>=r?s(l,u):(i=l,o||(o=setTimeout(()=>{o=null,s(i)},r-m)))},()=>i&&s(i)]}const qt=(n,e,t=3)=>{let r=0;const i=Lc(50,250);return Dc(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,c=s-r,l=i(c),u=s<=a;r=s;const m={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:o,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(m)},t)},Sn=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},An=n=>(...e)=>h.asap(()=>n(...e)),$c=fe.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,fe.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,Uc=fe.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const s=[n+"="+encodeURIComponent(e)];h.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),h.isString(r)&&s.push("path="+r),h.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kc(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jc(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function bi(n,e,t){let r=!kc(e);return n&&(r||t==!1)?jc(n,e):e}const wn=n=>n instanceof ve?{...n}:n;function He(n,e){e=e||{};const t={};function r(l,u,m,C){return h.isPlainObject(l)&&h.isPlainObject(u)?h.merge.call({caseless:C},l,u):h.isPlainObject(u)?h.merge({},u):h.isArray(u)?u.slice():u}function i(l,u,m,C){if(h.isUndefined(u)){if(!h.isUndefined(l))return r(void 0,l,m,C)}else return r(l,u,m,C)}function o(l,u){if(!h.isUndefined(u))return r(void 0,u)}function s(l,u){if(h.isUndefined(u)){if(!h.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,m){if(m in e)return r(l,u);if(m in n)return r(void 0,l)}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u,m)=>i(wn(l),wn(u),m,!0)};return h.forEach(Object.keys({...n,...e}),function(u){const m=c[u]||i,C=m(n[u],e[u],u);h.isUndefined(C)&&m!==a||(t[u]=C)}),t}const Si=n=>{const e=He({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=e;if(e.headers=s=ve.from(s),e.url=hi(bi(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),h.isFormData(t)){if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(h.isFunction(t.getHeaders)){const c=t.getHeaders(),l=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{l.includes(u.toLowerCase())&&s.set(u,m)})}}if(fe.hasStandardBrowserEnv&&(r&&h.isFunction(r)&&(r=r(e)),r||r!==!1&&$c(e.url))){const c=i&&o&&Uc.read(o);c&&s.set(i,c)}return e},xc=typeof XMLHttpRequest<"u",Fc=xc&&function(n){return new Promise(function(t,r){const i=Si(n);let o=i.data;const s=ve.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=i,u,m,C,P,y;function E(){P&&P(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function R(){if(!A)return;const j=ve.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),H={data:!a||a==="text"||a==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:j,config:n,request:A};vi(function(X){t(X),E()},function(X){r(X),E()},H),A=null}"onloadend"in A?A.onloadend=R:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(R)},A.onabort=function(){A&&(r(new U("Request aborted",U.ECONNABORTED,n,A)),A=null)},A.onerror=function(W){const H=W&&W.message?W.message:"Network Error",K=new U(H,U.ERR_NETWORK,n,A);K.event=W||null,r(K),A=null},A.ontimeout=function(){let W=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const H=i.transitional||mi;i.timeoutErrorMessage&&(W=i.timeoutErrorMessage),r(new U(W,H.clarifyTimeoutError?U.ETIMEDOUT:U.ECONNABORTED,n,A)),A=null},o===void 0&&s.setContentType(null),"setRequestHeader"in A&&h.forEach(s.toJSON(),function(W,H){A.setRequestHeader(H,W)}),h.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),a&&a!=="json"&&(A.responseType=i.responseType),l&&([C,y]=qt(l,!0),A.addEventListener("progress",C)),c&&A.upload&&([m,P]=qt(c),A.upload.addEventListener("progress",m),A.upload.addEventListener("loadend",P)),(i.cancelToken||i.signal)&&(u=j=>{A&&(r(!j||j.type?new it(null,n,A):j),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const F=Rc(i.url);if(F&&fe.protocols.indexOf(F)===-1){r(new U("Unsupported protocol "+F+":",U.ERR_BAD_REQUEST,n));return}A.send(o||null)})},Nc=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(l){if(!i){i=!0,a();const u=l instanceof Error?l:this.reason;r.abort(u instanceof U?u:new it(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,o(new U(`timeout ${e} of ms exceeded`,U.ETIMEDOUT))},e);const a=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),n=null)};n.forEach(l=>l.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>h.asap(a),c}},Bc=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},qc=async function*(n,e){for await(const t of Hc(n))yield*Bc(t,e)},Hc=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},En=(n,e,t,r)=>{const i=qc(n,e);let o=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await i.next();if(l){a(),c.close();return}let m=u.byteLength;if(t){let C=o+=m;t(C)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},Cn=64*1024,{isFunction:Ct}=h,zc=(({Request:n,Response:e})=>({Request:n,Response:e}))(h.global),{ReadableStream:Tn,TextEncoder:_n}=h.global,Mn=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Vc=n=>{n=h.merge.call({skipUndefined:!0},zc,n);const{fetch:e,Request:t,Response:r}=n,i=e?Ct(e):typeof fetch=="function",o=Ct(t),s=Ct(r);if(!i)return!1;const a=i&&Ct(Tn),c=i&&(typeof _n=="function"?(y=>E=>y.encode(E))(new _n):async y=>new Uint8Array(await new t(y).arrayBuffer())),l=o&&a&&Mn(()=>{let y=!1;const E=new t(fe.origin,{body:new Tn,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!E}),u=s&&a&&Mn(()=>h.isReadableStream(new r("").body)),m={stream:u&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!m[y]&&(m[y]=(E,A)=>{let R=E&&E[y];if(R)return R.call(E);throw new U(`Response type '${y}' is not supported`,U.ERR_NOT_SUPPORT,A)})});const C=async y=>{if(y==null)return 0;if(h.isBlob(y))return y.size;if(h.isSpecCompliantForm(y))return(await new t(fe.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(h.isArrayBufferView(y)||h.isArrayBuffer(y))return y.byteLength;if(h.isURLSearchParams(y)&&(y=y+""),h.isString(y))return(await c(y)).byteLength},P=async(y,E)=>{const A=h.toFiniteNumber(y.getContentLength());return A??C(E)};return async y=>{let{url:E,method:A,data:R,signal:F,cancelToken:j,timeout:W,onDownloadProgress:H,onUploadProgress:K,responseType:X,headers:pe,withCredentials:he="same-origin",fetchOptions:be}=Si(y),we=e||fetch;X=X?(X+"").toLowerCase():"text";let ae=Nc([F,j&&j.toAbortSignal()],W),me=null;const ce=ae&&ae.unsubscribe&&(()=>{ae.unsubscribe()});let Se;try{if(K&&l&&A!=="get"&&A!=="head"&&(Se=await P(pe,R))!==0){let de=new t(E,{method:"POST",body:R,duplex:"half"}),O;if(h.isFormData(R)&&(O=de.headers.get("content-type"))&&pe.setContentType(O),de.body){const[f,g]=Sn(Se,qt(An(K)));R=En(de.body,Cn,f,g)}}h.isString(he)||(he=he?"include":"omit");const Z=o&&"credentials"in t.prototype,Re={...be,signal:ae,method:A.toUpperCase(),headers:pe.normalize().toJSON(),body:R,duplex:"half",credentials:Z?he:void 0};me=o&&new t(E,Re);let le=await(o?we(me,be):we(E,Re));const _e=u&&(X==="stream"||X==="response");if(u&&(H||_e&&ce)){const de={};["status","statusText","headers"].forEach(b=>{de[b]=le[b]});const O=h.toFiniteNumber(le.headers.get("content-length")),[f,g]=H&&Sn(O,qt(An(H),!0))||[];le=new r(En(le.body,Cn,f,()=>{g&&g(),ce&&ce()}),de)}X=X||"text";let ue=await m[h.findKey(m,X)||"text"](le,y);return!_e&&ce&&ce(),await new Promise((de,O)=>{vi(de,O,{data:ue,headers:ve.from(le.headers),status:le.status,statusText:le.statusText,config:y,request:me})})}catch(Z){throw ce&&ce(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new U("Network Error",U.ERR_NETWORK,y,me),{cause:Z.cause||Z}):U.from(Z,Z&&Z.code,y,me)}}},Gc=new Map,Ai=n=>{let e=n?n.env:{};const{fetch:t,Request:r,Response:i}=e,o=[r,i,t];let s=o.length,a=s,c,l,u=Gc;for(;a--;)c=o[a],l=u.get(c),l===void 0&&u.set(c,l=a?new Map:Vc(e)),u=l;return l};Ai();const Tr={http:lc,xhr:Fc,fetch:{get:Ai}};h.forEach(Tr,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const On=n=>`- ${n}`,Wc=n=>h.isFunction(n)||n===null||n===!1,wi={getAdapter:(n,e)=>{n=h.isArray(n)?n:[n];const{length:t}=n;let r,i;const o={};for(let s=0;s<t;s++){r=n[s];let a;if(i=r,!Wc(r)&&(i=Tr[(a=String(r)).toLowerCase()],i===void 0))throw new U(`Unknown adapter '${a}'`);if(i&&(h.isFunction(i)||(i=i.get(e))))break;o[a||"#"+s]=i}if(!i){const s=Object.entries(o).map(([c,l])=>`adapter ${c} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=t?s.length>1?`since :
`+s.map(On).join(`
`):" "+On(s[0]):"as no adapter specified";throw new U("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:Tr};function ur(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new it(null,n)}function In(n){return ur(n),n.headers=ve.from(n.headers),n.data=lr.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),wi.getAdapter(n.adapter||gt.adapter,n)(n).then(function(r){return ur(n),r.data=lr.call(n,n.transformResponse,r),r.headers=ve.from(r.headers),r},function(r){return gi(r)||(ur(n),r&&r.response&&(r.response.data=lr.call(n,n.transformResponse,r.response),r.response.headers=ve.from(r.response.headers))),Promise.reject(r)})}const Ei="1.12.2",Xt={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xt[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Pn={};Xt.transitional=function(e,t,r){function i(o,s){return"[Axios v"+Ei+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(e===!1)throw new U(i(s," has been removed"+(t?" in "+t:"")),U.ERR_DEPRECATED);return t&&!Pn[s]&&(Pn[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,a):!0}};Xt.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Jc(n,e,t){if(typeof n!="object")throw new U("options must be an object",U.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const a=n[o],c=a===void 0||s(a,o,n);if(c!==!0)throw new U("option "+o+" must be "+c,U.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new U("Unknown option "+o,U.ERR_BAD_OPTION)}}const Dt={assertOptions:Jc,validators:Xt},Ie=Dt.validators;let qe=class{constructor(e){this.defaults=e||{},this.interceptors={request:new vn,response:new vn}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=He(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Dt.assertOptions(r,{silentJSONParsing:Ie.transitional(Ie.boolean),forcedJSONParsing:Ie.transitional(Ie.boolean),clarifyTimeoutError:Ie.transitional(Ie.boolean)},!1),i!=null&&(h.isFunction(i)?t.paramsSerializer={serialize:i}:Dt.assertOptions(i,{encode:Ie.function,serialize:Ie.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Dt.assertOptions(t,{baseUrl:Ie.spelling("baseURL"),withXsrfToken:Ie.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&h.merge(o.common,o[t.method]);o&&h.forEach(["delete","get","head","post","put","patch","common"],y=>{delete o[y]}),t.headers=ve.concat(s,o);const a=[];let c=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(c=c&&E.synchronous,a.unshift(E.fulfilled,E.rejected))});const l=[];this.interceptors.response.forEach(function(E){l.push(E.fulfilled,E.rejected)});let u,m=0,C;if(!c){const y=[In.bind(this),void 0];for(y.unshift(...a),y.push(...l),C=y.length,u=Promise.resolve(t);m<C;)u=u.then(y[m++],y[m++]);return u}C=a.length;let P=t;for(;m<C;){const y=a[m++],E=a[m++];try{P=y(P)}catch(A){E.call(this,A);break}}try{u=In.call(this,P)}catch(y){return Promise.reject(y)}for(m=0,C=l.length;m<C;)u=u.then(l[m++],l[m++]);return u}getUri(e){e=He(this.defaults,e);const t=bi(e.baseURL,e.url,e.allowAbsoluteUrls);return hi(t,e.params,e.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(e){qe.prototype[e]=function(t,r){return this.request(He(r||{},{method:e,url:t,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,a){return this.request(He(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}qe.prototype[e]=t(),qe.prototype[e+"Form"]=t(!0)});let Yc=class Ci{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,a){r.reason||(r.reason=new it(o,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ci(function(i){e=i}),cancel:e}}};function Kc(n){return function(t){return n.apply(null,t)}}function Xc(n){return h.isObject(n)&&n.isAxiosError===!0}const _r={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_r).forEach(([n,e])=>{_r[e]=n});function Ti(n){const e=new qe(n),t=ri(qe.prototype.request,e);return h.extend(t,qe.prototype,e,{allOwnKeys:!0}),h.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Ti(He(n,i))},t}const re=Ti(gt);re.Axios=qe;re.CanceledError=it;re.CancelToken=Yc;re.isCancel=gi;re.VERSION=Ei;re.toFormData=Kt;re.AxiosError=U;re.Cancel=re.CanceledError;re.all=function(e){return Promise.all(e)};re.spread=Kc;re.isAxiosError=Xc;re.mergeConfig=He;re.AxiosHeaders=ve;re.formToJSON=n=>yi(h.isHTMLForm(n)?new FormData(n):n);re.getAdapter=wi.getAdapter;re.HttpStatusCode=_r;re.default=re;const{Axios:Al,AxiosError:wl,CanceledError:El,isCancel:Cl,CancelToken:Tl,VERSION:_l,all:Ml,Cancel:Ol,isAxiosError:Il,spread:Pl,toFormData:Rl,AxiosHeaders:Ll,HttpStatusCode:Dl,formToJSON:$l,getAdapter:Ul,mergeConfig:kl}=re;var oe={};const Zc={jwt:null,ttl:300},_i={env:{app:"cd-shell",debug:!0},cdApiLocal:"cd-api-local",cdGitConfig:"cd-git-config",profiles:{cdApiLocal:{endpoint:"http://localhost:3001/api",hostName:"localhost"}},cdSession:Zc,meta:{name:"cd-cli",version:"1.0.0",description:"Your description here",showHelpAfterError:!0},preferences:{encryption:{encryptionKey:oe.CD_CLI_ENCRYPT_KEY},backUp:[{profileName:"cd-git-config",field:"details.gitAccess.gitHubToken",useLocal:{state:!1,storePath:"~/.cd-cli/"},useWeb3:{state:!1},useCloud:{state:!1}}]},back4app:{url:oe.B4A_URL,appId:oe.X_Parse_Application_Id,apiKey:oe.X_Parse_REST_API_Key},usePush:!0,usePolling:!0,useCacheStore:!0,cacheTtl:oe.CACHE_TTL,emailUsers:[{name:"ASDAP",email:oe.EMAIL_ADDRESS,user:oe.EMAIL_USERNAME,pass:oe.EMAIL_PASSWORD,auth:{user:oe.EMAIL_USERNAME,pass:oe.EMAIL_PASSWORD}}],viteWorkspacePath:"/home/emp-12/cd-shell/src",viteHttpServer:{open:!0,port:4173},cdApi:{endpoint:"https://localhost:3001/api",serverHost:"localhost",serverPort:"3001",entryPoint:"/api",timeout:15e3},cdSio:{endpoint:"https://localhost:3002",serverHost:"localhost",serverPort:"3002",entryPoint:"/socket.io",options:{path:"/socket.io",transports:["websocket","polling"],secure:!0,reconnection:!0,reconnectionAttempts:3,reconnectionDelay:2e3},timeout:15e3},push:{mode:oe.PUSH_MODE,wsMode:"sio",serverHost:"https://146.190.165.51",serverPort:oe.SIO_PORT,redisHost:oe.REDIS_HOST,redisPort:oe.REDIS_PORT,startupNodes:[{port:6380,host:oe.REDIS_HOST},{port:6381,host:"146.190.157.42"}],sentinalOptions:{sentinels:[{host:oe.REDIS_HOST,port:Number(oe.REDIS_PORT)},{host:"asdap.net",port:Number(oe.REDIS_PORT)}],name:"master01"}},devSync:{storageType:"memory",sioEndpoint:"wss://cd-sio-server",appId:"vite-dev-instance",autoInitialize:!0},modules:{sys:{}},defaultUiConfig:{defaultUiSystemId:"bootstrap-538",defaultThemeId:"dark",defaultFormVariant:"standard",uiSystemBasePath:"/public/assets/ui-systems/"}};class Qc{constructor(e=_i){this.cfg=e,this.instances=new Map}get env(){return this.cfg.env||{app:"cd-shell",debug:!1}}log(...e){this.env.debug&&console.log("[HttpService]",...e)}async ensureInstance(e,t){var s,a,c,l;const r=e||"cdApiLocal";if(this.instances.has(r))return;const i=t||((s=this.cfg.cdApi)==null?void 0:s.endpoint)||((c=(a=this.cfg.profiles)==null?void 0:a[r])==null?void 0:c.endpoint);if(!i)throw new Error(`No endpoint found for profile '${r}'.`);const o=re.create({baseURL:i,timeout:((l=this.cfg.cdApi)==null?void 0:l.timeout)||15e3,headers:{"Content-Type":"application/json"}});this.instances.set(r,o),this.cdApiAxiosConfig={method:"POST",url:i,data:null},this.log(`Initialized Axios instance [${r}]  ${i}`)}async request(e,t="cdApiLocal"){var i,o,s,a;const r=this.instances.get(t);if(!r)return{state:!1,data:null,message:`Instance ${t} missing.`};try{return this.log("Request Config:",e),{state:!0,data:(await r.request(e)).data,message:"Request succeeded"}}catch(c){const l=((a=(s=(o=(i=c.response)==null?void 0:i.data)==null?void 0:o.app_state)==null?void 0:s.info)==null?void 0:a.app_msg)||c.message||"Unknown error";return this.log("Request Error:",l),{state:!1,data:null,message:`HTTP Error: ${Ze.inspect(l,{depth:3})}`}}}async proc(e,t){var s,a;this.env.app;const r=t||"cdShell",i=(a=(s=this.cfg.profiles)==null?void 0:s[r])==null?void 0:a.endpoint;console.log(`[HttpService] proc()  profile: ${r}, endpoint: ${i}`),await this.ensureInstance(r,i);const o={...this.cdApiAxiosConfig||{},data:e};return this.request(o,r)}}`${_i.profiles.cdApiLocal.hostName}`;const dr={ctx:"Sys",m:"User",c:"User",a:"Login",dat:{token:null,f_vals:[{data:{userName:"",password:"",consumerGuid:""}}]},args:null},We={ctx:"Sys",m:"User",c:"User",a:"GetUserProfile",dat:{token:null,f_vals:[{data:{userId:-1,consumerGuid:""}}]},args:null};class el{constructor(){this.http=new Qc,this.logger=new De,this.cdToken="",this.svConfig=new et,this.cache=new Ue(this.svConfig)}setCdToken(e){return this.cdToken=e,dr.dat.token=e,We.dat.token=e,this}async login(e,t){var r,i;if(!t)return this.logger.warn("[UserService.login] consumerGuid missing"),{state:!1,message:"consumerGuid missing"};dr.dat.f_vals[0].data={userName:e.userName,password:e.password,consumerGuid:t},this.logger.debug("[UserService.login] attempting login",{user:e.userName,consumerGuid:t});try{const o=await this.http.proc(dr,"cdApiLocal");if(this.logger.debug("[UserService.login] fx:",o),!(o!=null&&o.state)||!o.data)return this.logger.warn("[UserService.login] login failed",{reason:o==null?void 0:o.message}),o;const s=o.data;return(i=(r=s.app_state)==null?void 0:r.sess)!=null&&i.cd_token&&this.setCdToken(s.app_state.sess.cd_token),o}catch(o){return this.logger.warn("[UserService.login] network/login error",{message:o==null?void 0:o.message}),{state:!1,message:(o==null?void 0:o.message)??"login error"}}}async loginAnonUser(e){if(this.logger.debug("[UserService.loginAnonUser] Performing anon login"),this.logger.debug("[UserService.loginAnonUser] consumerGuid",e),!e)return this.logger.warn("[UserService.loginAnonUser] No consumerGuid  skipping anon login"),null;const t={userName:"anon",password:"-"},r=await this.login(t,e);return this.logger.debug("[UserService.loginAnonUser] fx:",r),!(r!=null&&r.state)||!r.data?(this.logger.warn("[UserService.loginAnonUser] anon login failed  continuing with static shell config"),r):(this.logger.debug("[UserService.loginAnonUser] anon login success"),r)}async getUserProfile(e){const t=this.cache.getConsumerGuid();if(!t)throw new Error("consumerGuid missing in SysCacheService");We.dat.f_vals[0].data.userId=e,We.dat.f_vals[0].data.consumerGuid=t,We.dat.token=this.cdToken,this.logger.debug("[UserService] EnvUserProfile",Ze.inspect(We,{depth:4}));const r=await this.http.proc(We,"cdApiLocal");if(!r.state||!r.data)throw new Error(`Profile request failed: ${r.message}`);return r.data}async getUserByID(e){const t=this.cache.getConsumerGuid();if(!t)throw new Error("consumerGuid missing in SysCacheService");const r={ctx:"Sys",m:"User",c:"User",a:"GetByID",dat:{f_vals:[{data:{userId:e,consumerGuid:t}}],token:this.cdToken},args:null};this.logger.debug("[UserService] getUserByID request",Ze.inspect(r,{depth:4}));const i=await this.http.proc(r,"cdApiLocal");if(!i.state||!i.data)throw new Error(`GetByID request failed: ${i.message}`);return i.data}async existingUserProfile(e){try{const t=await this.getUserProfile(e);if(t.app_state.success&&t.data&&Array.isArray(t.data)&&t.data.length>0){const r=t.data[0];return r!=null}return!1}catch(t){return this.logger.error(`[UserService] existingUserProfile error: ${t.message}`),!1}}}class Mi extends $r{constructor(){super(...arguments),this.descriptor=null,this.observer=null,this.appliedSet=new WeakSet,this.adapterId="bootstrap-538",this.capabilities={layouts:[Ur.GRID],containers:[Be.TABS,Be.TAB,Be.CARD],controls:[Le.BUTTON,Le.TEXT_FIELD,Le.SELECT,Le.CHECKBOX,Le.SWITCH]},this.meta={id:"bootstrap-538",version:"5.3.8",status:Gt.ACTIVE,vendor:"Bootstrap"}}async onActivate(e){if(this.log("info","lifecycle:activate:start","Adapter activation started",{lifecycle:this.lifecycle}),!e){this.log("error","activate:error","Descriptor is null");return}this.lifecycle===G.CREATED&&(this.descriptor=e,this.appliedSet=new WeakSet,this.transitionTo(G.INITIALIZED)),this.lifecycle===G.INITIALIZED&&this.transitionTo(G.ACTIVATED),this.lifecycle===G.ACTIVATED&&(this.mapAll(),this.transitionTo(G.MAPPED)),this.lifecycle===G.MAPPED&&(this.observeMutations(),this.transitionTo(G.OBSERVING)),this.lifecycle>=G.OBSERVING&&(this.setPhase(Pe.CONTROLLER_READY,"Bootstrap adapter controller ready"),this.markDomStable("Initial Bootstrap mapping completed")),this.log("info","lifecycle:activate:end","Adapter activation completed",{lifecycle:this.lifecycle})}async onDeactivate(){if(this.assertLifecycle(G.ACTIVATED,"onDeactivate"),this.log("info","lifecycle:deactivate:start","Deactivating adapter"),this.observer){try{this.observer.disconnect(),this.log("debug","observer:disconnected","MutationObserver stopped")}catch{}this.observer=null}try{document.documentElement.removeAttribute("data-bs-theme")}catch{}this.descriptor=null,this.appliedSet=new WeakSet,this.assertLifecycle(G.CREATED,"Adapter deactivated"),this.log("info","lifecycle:deactivate:complete","Adapter deactivated")}onApplyTheme(e){var r;if(this.lifecycle<G.ACTIVATED){this.logger.warn(`[UI-ADAPTER:${this.adapterId}] applyTheme skipped  adapter not activated`,{lifecycle:this.lifecycle});return}if(!e){this.logger.warn(`[UI-ADAPTER:${this.adapterId}] applyTheme:skipped`,"No theme descriptor provided");return}const t=document.documentElement;e.classPrefix&&Array.from(t.classList).filter(i=>i.startsWith(e.classPrefix)).forEach(i=>t.classList.remove(i)),Object.entries(e.variables??{}).forEach(([i,o])=>{t.style.setProperty(`--${i}`,o)}),(r=e.classes)==null||r.forEach(i=>t.classList.add(i)),this.transitionTo(G.THEMED),this.logger.debug(`[UI-ADAPTER:${this.adapterId}] applyTheme:done`,e)}getMapping(e){var t,r;return(r=(t=this.descriptor)==null?void 0:t.conceptMappings)==null?void 0:r[e]}applyMappingToElement(e,t){if(t){if(this.appliedSet.has(e)){t.attrs&&Object.entries(t.attrs).forEach(([r,i])=>e.setAttribute(r,i));return}t.class&&t.class.split(/\s+/).forEach(r=>r&&e.classList.add(r)),t.attrs&&Object.entries(t.attrs).forEach(([r,i])=>e.setAttribute(r,i)),this.appliedSet.add(e)}}mapByConcept(e,t){const r=this.getMapping(e);r&&document.querySelectorAll(t).forEach(i=>this.applyMappingToElement(i,r))}mapTabs(){this.log("info","map:concept","[Bootstrap538Adapter] mapTabs()"),document.querySelectorAll("cd-tabs").forEach(t=>{if(this.appliedSet.has(t))return;const r=t.id||`tabs-${Math.random().toString(36).slice(2,7)}`,i=t.getAttribute("active-tab"),o=Array.from(t.querySelectorAll("cd-tab")),s=document.createElement("ul");s.className="nav nav-tabs mb-3",s.id=`${r}-nav`,s.setAttribute("role","tablist");const a=document.createElement("div");a.className="tab-content",a.id=`${r}-content`,o.forEach((l,u)=>{const m=l.id||`${r}-t-${u}`,C=l.getAttribute("label")||"",P=l.getAttribute("icon"),y=m===i||!i&&u===0,E=document.createElement("li");E.className="nav-item",E.setAttribute("role","presentation");const A=document.createElement("button");if(A.className=`nav-link ${y?"active":""}`,A.id=`${m}-tab`,A.type="button",A.setAttribute("role","tab"),A.setAttribute("aria-selected",String(y)),A.setAttribute("data-bs-target",`#${m}-pane`),A.addEventListener("click",F=>{F.preventDefault(),s.querySelectorAll(".nav-link").forEach(W=>{W.classList.remove("active"),W.setAttribute("aria-selected","false")}),A.classList.add("active"),A.setAttribute("aria-selected","true"),a.querySelectorAll(".tab-pane").forEach(W=>W.classList.remove("show","active"));const j=a.querySelector(`#${m}-pane`);j==null||j.classList.add("show","active"),t.dispatchEvent(new CustomEvent("cd-tab-change",{detail:{tabId:m,label:C},bubbles:!0}))}),P){const F=document.createElement("i");F.className=`bi bi-${P} me-2`,A.appendChild(F)}A.appendChild(document.createTextNode(C)),E.appendChild(A),s.appendChild(E);const R=document.createElement("div");R.className=`tab-pane fade ${y?"show active":""}`,R.id=`${m}-pane`,R.setAttribute("role","tabpanel"),R.setAttribute("aria-labelledby",`${m}-tab`),R.innerHTML=l.innerHTML,a.appendChild(R)});const c=document.createDocumentFragment();c.append(s,a),t.replaceWith(c),this.appliedSet.add(s)})}mapOtherConcepts(){var t;const e=((t=this.descriptor)==null?void 0:t.conceptMappings)||{};Object.keys(e).filter(r=>!["button","input","formGroup"].includes(r)).forEach(r=>{const i=`[data-cd-${r}], .cd-${r}`;document.querySelectorAll(i).forEach(o=>this.applyMappingToElement(o,e[r]))})}mapAll(){if(this.descriptor)try{this.mapByConcept("button","button[cdButton], button.cd-button"),this.mapByConcept("input","input[cdFormControl], textarea[cdFormControl], select[cdFormControl]"),this.mapByConcept("formGroup",".cd-form-field"),this.mapTabs(),this.mapOtherConcepts()}catch(e){this.log("error","map:all:error","Mapping failed",e)}}observeMutations(){if(!this.observer){this.observer=new MutationObserver(()=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>this.mapAll()):setTimeout(()=>this.mapAll(),16)});try{this.observer.observe(document.body,{childList:!0,subtree:!0})}catch(e){this.log("error","observer:error","Failed to attach observer",e),this.observer=null}}}}Ae.register("bootstrap-538",new Mi);const tl=Object.freeze(Object.defineProperty({__proto__:null,Bootstrap538AdapterService:Mi},Symbol.toStringTag,{value:"Module"}));class Oi{constructor(){this.descriptor=null,this.observer=null,this.appliedSet=new WeakSet,console.log("%c[BulmaAdapterService] constructor()","color:#6cf")}setMeta(e){this.meta=e}async activate(e){L("[BulmaAdapter] activate()",{id:e.id}),this.descriptor=e||null,this.mapAll(),this.observeMutations(),L("[BulmaAdapter] activate() COMPLETE")}async deactivate(){L("[BulmaAdapter] deactivate()"),document.documentElement.removeAttribute("data-bulma-theme"),this.observer&&this.observer.disconnect(),this.observer=null,this.descriptor=null,this.appliedSet=new WeakSet}async applyTheme(e){const t=typeof e=="string"?e:(e==null?void 0:e.mode)||((e==null?void 0:e.id)==="dark"?"dark":"light");document.documentElement.setAttribute("data-bulma-theme",t==="dark"?"dark":"light"),L("[BulmaAdapter] Theme applied",{mode:t})}getMapping(e){return this.descriptor&&this.descriptor.conceptMappings&&this.descriptor.conceptMappings[e]||void 0}applyMappingToElement(e,t){t&&(this.appliedSet.has(e)||(t.class&&t.class.split(/\s+/).forEach(r=>r&&e.classList.add(r)),t.attrs&&Object.entries(t.attrs).forEach(([r,i])=>e.setAttribute(r,i)),this.appliedSet.add(e)))}mapButtons(){const e=this.getMapping("button");if(!e)return;document.querySelectorAll("button[cdButton], button.cd-button").forEach(r=>this.applyMappingToElement(r,e))}mapInputs(){const e=this.getMapping("input");if(!e)return;document.querySelectorAll("input[cdFormControl], textarea[cdFormControl], select[cdFormControl]").forEach(r=>this.applyMappingToElement(r,e))}mapFormGroups(){const e=this.getMapping("formGroup");if(!e)return;document.querySelectorAll(".cd-form-field").forEach(r=>this.applyMappingToElement(r,e))}mapOtherConcepts(){var r;const e=((r=this.descriptor)==null?void 0:r.conceptMappings)||{};Object.keys(e).filter(i=>!["button","input","formGroup"].includes(i)).forEach(i=>{const o=e[i];document.querySelectorAll(`[data-cd-${i}], .cd-${i}`).forEach(a=>this.applyMappingToElement(a,o))})}mapAll(){this.mapButtons(),this.mapInputs(),this.mapFormGroups(),this.mapOtherConcepts()}observeMutations(){this.observer||(this.observer=new MutationObserver(()=>{"requestIdleCallback"in window?requestIdleCallback(()=>this.mapAll()):setTimeout(()=>this.mapAll(),16)}),this.observer.observe(document.body,{childList:!0,subtree:!0}))}}Ae.register("bulma",new Oi);const rl=Object.freeze(Object.defineProperty({__proto__:null,BulmaAdapterService:Oi},Symbol.toStringTag,{value:"Module"}));class Ii extends $r{constructor(){super(...arguments),this.descriptor=null,this.observer=null,this.appliedSet=new WeakSet,this.mdcInitQueued=!1,this.mdcInstances=new Set,this.adapterId="material-design",this.capabilities={layouts:[Ur.GRID],containers:[Be.TABS,Be.TAB,Be.CARD],controls:[Le.BUTTON,Le.TEXT_FIELD,Le.SELECT]},this.meta={id:"material-design",version:"mdc",status:Gt.ACTIVE,vendor:"Material Design"}}async onActivate(e){if(this.log("info","lifecycle:activate:start","Material adapter activating",{lifecycle:this.lifecycle}),!e){this.log("error","activate:error","Descriptor is null");return}this.lifecycle===G.CREATED&&(this.descriptor=e,this.appliedSet=new WeakSet,this.transitionTo(G.INITIALIZED)),this.lifecycle===G.INITIALIZED&&this.transitionTo(G.ACTIVATED),this.lifecycle===G.ACTIVATED&&(this.mapAll(),this.transitionTo(G.MAPPED)),this.lifecycle===G.MAPPED&&(this.observeMutations(),this.transitionTo(G.OBSERVING)),this.lifecycle>=G.OBSERVING&&(this.setPhase(Pe.CONTROLLER_READY,"Material adapter controller ready"),this.markDomStable("Initial Material mapping completed")),this.log("info","lifecycle:activate:end","Material adapter activated",{lifecycle:this.lifecycle})}async onDeactivate(){if(this.log("info","lifecycle:deactivate:start","Material adapter deactivating"),this.observer){try{this.observer.disconnect()}catch{}this.observer=null}try{document.documentElement.removeAttribute("data-md-theme")}catch{}try{this.mdcInstances.forEach(e=>{var t;return(t=e.destroy)==null?void 0:t.call(e)}),this.mdcInstances.clear()}catch{}this.descriptor=null,this.appliedSet=new WeakSet,this.transitionTo(G.CREATED),this.log("info","lifecycle:deactivate:end","Material adapter deactivated")}onApplyTheme(e){if(this.lifecycle<G.ACTIVATED){this.logger.warn(`[UI-ADAPTER:${this.adapterId}] applyTheme skipped  adapter not activated`,{lifecycle:this.lifecycle});return}if(!e)return;const t=e.mode||(e.id==="dark"?"dark":"light");document.documentElement.setAttribute("data-md-theme",t==="dark"?"dark":"light"),this.transitionTo(G.THEMED),this.logger.debug(`[UI-ADAPTER:${this.adapterId}] applyTheme:done`,{mode:t})}async activate(e){L("[MaterialDesignAdapter] activate() START",{id:e==null?void 0:e.id}),this.descriptor=e||null,e!=null&&e.conceptMappings?console.log("%c[MaterialDesignAdapter] Loaded conceptMappings:","color:#0ff",e.conceptMappings):console.warn("[MaterialDesignAdapter] descriptor.conceptMappings missing!"),this.mapAll(),this.observeMutations(),L("[MaterialDesignAdapter] activate() COMPLETE",{active:e==null?void 0:e.id})}async deactivate(){L("[MaterialDesignAdapter] deactivate() START");try{document.documentElement.removeAttribute("data-md-theme")}catch{}if(this.observer){try{this.observer.disconnect()}catch{}this.observer=null}this.descriptor=null,this.appliedSet=new WeakSet;try{this.mdcInstances.forEach(e=>{var t;try{(t=e.destroy)==null||t.call(e)}catch{}}),this.mdcInstances.clear()}catch{}L("[MaterialDesignAdapter] deactivate() COMPLETE")}async applyTheme(e){L("[MaterialDesignAdapter] applyTheme()",{themeDescriptorOrId:e});try{if(!e){console.warn("[MaterialDesignAdapter] applyTheme ignored (null theme)");return}let t;typeof e=="string"?t=e==="dark"?"dark":"light":typeof e=="object"&&(t=e.mode||(e.id==="dark"?"dark":"light")),document.documentElement.setAttribute("data-md-theme",t==="dark"?"dark":"light"),L("[MaterialDesignAdapter] applied Material theme",{mode:t})}catch(t){console.warn("[MaterialDesignAdapter] applyTheme error",t)}}getMapping(e){const t=this.descriptor&&this.descriptor.conceptMappings&&this.descriptor.conceptMappings[e]||void 0;return console.log(`%c[MaterialDesignAdapter] getMapping('${e}') =`,"color:#9f9",t),t}applyMappingToElement(e,t){if(t){if(this.appliedSet.has(e)){t.attrs&&Object.entries(t.attrs).forEach(([r,i])=>e.setAttribute(r,i));return}console.log("%c[MaterialDesignAdapter] Applying mapping to element:","color:#7ff;",{tag:e.tagName,mapping:t}),t.class&&t.class.split(/\s+/).forEach(r=>r&&e.classList.add(r)),t.attrs&&Object.entries(t.attrs).forEach(([r,i])=>e.setAttribute(r,i)),this.appliedSet.add(e)}}prepareMdcDom(e){var s;if(!e)return null;if(e.dataset.mdTransformed==="1")return e.querySelector(".mdc-text-field, .cd-md-select-wrapper, .cd-md-text-field, .mdc-select")||null;const t=e.querySelector("input, textarea, select"),r=e.querySelector("label");if(!t)return console.warn("[prepareMdcDom] no input/textarea/select inside field  skipping",{field:e}),null;const i=(((s=r==null?void 0:r.textContent)==null?void 0:s.trim())||t.getAttribute("placeholder")||t.name||"").trim();try{"placeholder"in t&&(t.placeholder="")}catch{}t.id||(t.id=`mdc-${Math.random().toString(36).slice(2,8)}`);const o=(t.tagName||"").toUpperCase();if(o==="INPUT"||o==="TEXTAREA"){const a=document.createElement("label");a.className="mdc-text-field mdc-text-field--filled cd-md-text-field";const c=document.createElement("span");c.className="mdc-text-field__ripple";const l=document.createElement("span");l.className="mdc-floating-label",l.setAttribute("for",t.id),l.textContent=i||"",t.classList.add("mdc-text-field__input");const u=document.createElement("span");u.className="mdc-line-ripple",a.appendChild(c),a.appendChild(l),a.appendChild(t),a.appendChild(u);try{e.replaceWith(a),a.dataset.mdTransformed="1"}catch(m){return console.warn("[prepareMdcDom] replaceWith failed (input)",m,{field:e,wrapper:a}),null}return a}else if(o==="SELECT"){const a=t;let c="";a.options.length>0&&a.options[0].value===""&&(c=a.options[0].text||"",a.remove(0));const l=document.createElement("div");l.className="mdc-select mdc-select--filled cd-md-select-wrapper",l.setAttribute("role","listbox"),a.style.display="none",a.classList.remove("mdc-text-field__input"),l.appendChild(a);const u=document.createElement("div");u.className="mdc-select__anchor",u.setAttribute("role","button"),u.setAttribute("aria-haspopup","listbox"),u.setAttribute("aria-expanded","false"),u.setAttribute("aria-labelledby",`${t.id}-label ${t.id}-selected-text`),u.tabIndex=0;const m=document.createElement("span");m.className="mdc-select__ripple",u.appendChild(m);const C=document.createElement("span");C.className="mdc-floating-label",C.id=`${t.id}-label`,C.textContent=i||c,u.appendChild(C);const P=document.createElement("span");P.className="mdc-select__selected-text-container";const y=document.createElement("span");y.className="mdc-select__selected-text",y.id=`${t.id}-selected-text`,y.textContent="",P.appendChild(y),u.appendChild(P);const E=document.createElement("span");E.className="mdc-select__dropdown-icon",E.innerHTML=`
      <svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false">
        <polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon>
        <polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon>
      </svg>`,u.appendChild(E);const A=document.createElement("span");A.className="mdc-line-ripple",u.appendChild(A),l.appendChild(u);const R=document.createElement("div");R.className="mdc-select__menu mdc-menu mdc-menu-surface cd-md-select-menu",R.setAttribute("role","presentation"),R.setAttribute("aria-hidden","true");const F=document.createElement("ul");F.className="mdc-list",F.setAttribute("role","listbox"),F.setAttribute("tabindex","-1"),Array.from(a.options).forEach((j,W)=>{const H=document.createElement("li");H.className="mdc-list-item",H.setAttribute("role","option"),H.setAttribute("data-value",j.value),H.setAttribute("data-index",String(W)),H.tabIndex=-1;const K=document.createElement("span");K.className="mdc-list-item__ripple";const X=document.createElement("span");X.className="mdc-list-item__text",X.textContent=j.text,H.appendChild(K),H.appendChild(X),F.appendChild(H)}),R.appendChild(F),l.appendChild(R);try{e.replaceWith(l),l.dataset.mdTransformed="1"}catch(j){return console.warn("[prepareMdcDom] replaceWith failed (select)",j,{field:e,wrapper:l}),null}return l.__cd_native_select=a,l.__cd_anchor=u,l.__cd_selected_text=y,l.__cd_menu_el=R,l}else return console.warn("[prepareMdcDom] unknown control tag  skipping",{tag:o,field:e}),null}attachCssFallback(e){try{const t=e.querySelector("input, textarea, select");if(!t)return;t.value&&t.value.length>0&&e.classList.add("mdc-text-field--focused"),t.__cd_md_handlers_attached||(t.addEventListener("focus",()=>e.classList.add("mdc-text-field--focused")),t.addEventListener("blur",()=>{(!t.value||t.value.length===0)&&e.classList.remove("mdc-text-field--focused")}),t.__cd_md_handlers_attached=!0)}catch(t){console.warn("[attachCssFallback] error",t)}}initMdcTextField(e){if(e)try{const t=window.mdc;if(!e.classList.contains("mdc-text-field")||e.__cd_mdc_initialized)return;if(!t||!t.textField||!t.textField.MDCTextField){this.attachCssFallback(e);return}const r=e.querySelector(".mdc-text-field__input");if(!r){this.attachCssFallback(e);return}if(!(typeof r.validity<"u")){this.attachCssFallback(e);return}try{const o=new t.textField.MDCTextField(e);this.mdcInstances.add(o),e.__cd_mdc_initialized=!0,console.debug("[MaterialDesignAdapter] MDCTextField constructed",{wrapper:e,inst:o})}catch(o){console.warn("[MaterialDesignAdapter] MDCTextField construction failed  falling back to CSS handlers",o),e.__cd_mdc_initialized=!1,this.attachCssFallback(e)}}catch(t){console.error("[MaterialDesignAdapter] initMdcTextField fatal",t),this.attachCssFallback(e)}}initMdcSelect(e){if(e)try{if(e.__cd_select_initialized)return;const t=window.mdc,r=e.__cd_native_select,i=e.__cd_anchor,o=e.__cd_selected_text,s=e.__cd_menu_el;if(!r||!i||!s){this.initMdcSelectFallback(e),e.__cd_select_initialized=!0;return}if(o.textContent="",t&&t.select&&t.select.MDCSelect)try{const a=new t.select.MDCSelect(e);this.mdcInstances.add(a),e.__cd_mdc_select_inst=a,a.selectedIndex===0&&r.selectedIndex>-1&&(a.selectedIndex=-1),a.listen("MDCSelect:change",()=>{var c;try{const l=a.selectedIndex;r.selectedIndex=l;const u=new Event("change",{bubbles:!0});r.dispatchEvent(u),o.textContent=a.selectedText||((c=r.options[l])==null?void 0:c.text)||""}catch(l){console.warn("[MaterialDesignAdapter] MDCSelect change error",l)}}),r.addEventListener("change",()=>{var l;const c=r.selectedIndex;o.textContent=((l=r.options[c])==null?void 0:l.text)||""}),e.__cd_select_initialized=!0;return}catch(a){console.warn("[MaterialDesignAdapter] MDCSelect init failed",a)}if(t&&t.menu&&t.menu.MDCMenu)try{const a=new t.menu.MDCMenu(s);s.__cd_mdc_menu_inst=a,this.mdcInstances.add(a),i.addEventListener("click",()=>{a.open=!a.open}),s.querySelectorAll(".mdc-list-item").forEach(c=>{c.addEventListener("click",()=>{var m;const l=Number(c.getAttribute("data-index"));r.selectedIndex=l;const u=new Event("change",{bubbles:!0});r.dispatchEvent(u),o.textContent=((m=r.options[l])==null?void 0:m.text)||"",a.open=!1})}),e.__cd_select_initialized=!0;return}catch(a){console.warn("[MaterialDesignAdapter] MDCMenu fallback failed",a)}this.initMdcSelectFallback(e),e.__cd_select_initialized=!0}catch(t){console.warn("[MaterialDesignAdapter] initMdcSelect fatal",t),this.initMdcSelectFallback(e),e.__cd_select_initialized=!0}}initMdcSelectFallback(e){try{if(e.__cd_select_fallback_attached)return;const t=e.__cd_menu_el,r=e.__cd_trigger,i=e.__cd_native_select,o=e.__cd_trigger_label;if(!t||!r||!i)return;let s=!1;const a=()=>{t.style.display="block",r.setAttribute("aria-expanded","true"),s=!0},c=()=>{t.style.display="none",r.setAttribute("aria-expanded","false"),s=!1};t.style.display="none",r.addEventListener("click",l=>{l.stopPropagation(),s?c():a()}),document.addEventListener("click",l=>{e.contains(l.target)||c()}),i.addEventListener("change",()=>{const l=i.options[i.selectedIndex];o.textContent=l?l.text:""}),e.__cd_select_fallback_attached=!0,console.debug("[MaterialDesignAdapter] JS fallback select/menu attached")}catch(t){console.warn("[MaterialDesignAdapter] initMdcSelectFallback error",t)}}scheduleMdcInit(){this.mdcInitQueued||(this.mdcInitQueued=!0,setTimeout(()=>{this.mdcInitQueued=!1,document.querySelectorAll(".cd-md-text-field, .cd-md-select-wrapper, .mdc-select").forEach(e=>{e.classList.contains("mdc-text-field")?e.__cd_mdc_initialized||this.initMdcTextField(e):(e.classList.contains("cd-md-select-wrapper")||e.classList.contains("mdc-select"))&&(e.__cd_select_initialized||this.initMdcSelect(e))})},40))}mapButtons(){const e=this.getMapping("button");if(!e)return;const r=document.querySelectorAll("button[cdButton], button.cd-button");L("[MaterialDesignAdapter] mapButtons()",{count:r.length}),r.forEach(i=>this.applyMappingToElement(i,e))}mapInputs(){const e=this.getMapping("input");if(!e)return;const t=Array.from(document.querySelectorAll(".cd-form-field"));L("[MaterialDesignAdapter] mapInputs()",{candidates:t.length}),t.forEach((r,i)=>{try{console.debug(`[MaterialDesignAdapter] mapInputs: FIELD #${i}`,{field:r});const o=this.prepareMdcDom(r);if(!o){console.debug("[MaterialDesignAdapter] mapInputs: prepareMdcDom returned null (skipping)");return}e.attrs&&Object.entries(e.attrs).forEach(([s,a])=>o.setAttribute(s,a)),this.appliedSet.add(o),o.classList.contains("mdc-text-field")?this.initMdcTextField(o):o.classList.contains("cd-md-select-wrapper")&&this.initMdcSelect(o),this.scheduleMdcInit(),console.debug("[MaterialDesignAdapter] mapInputs: transformed wrapper ",{wrapper:o})}catch(o){console.warn("[MaterialDesignAdapter] mapInputs error",o)}})}mapTabs(){document.querySelectorAll("cd-tabs").forEach(t=>{if(this.appliedSet.has(t))return;const r=t.getAttribute("active-tab"),i=Array.from(t.querySelectorAll("cd-tab")),o=t.id||`tabs-${Math.random().toString(36).slice(2,5)}`,s=document.createElement("div");s.className="mdc-tab-bar",s.setAttribute("role","tablist");const a=document.createElement("div");a.className="mdc-tab-scroller";const c=document.createElement("div");c.className="mdc-tab-scroller__scroll-area";const l=document.createElement("div");l.className="mdc-tab-scroller__scroll-content";const u=document.createElement("div");u.className="cd-md-tabs-content mt-3",i.forEach((C,P)=>{const y=C.id||`${o}-t-${P}`,E=C.getAttribute("label")||"Tab",A=C.id===r||!r&&P===0,R=document.createElement("button");R.type="button",R.className=`mdc-tab ${A?"mdc-tab--active":""}`,R.setAttribute("role","tab"),R.setAttribute("aria-selected",A?"true":"false"),R.id=`${y}-btn`,R.innerHTML=`
        <span class="mdc-tab__content">
          <span class="mdc-tab__text-label">${E}</span>
        </span>
        <span class="mdc-tab-indicator ${A?"mdc-tab-indicator--active":""}">
          <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
        </span>
        <span class="mdc-tab__ripple"></span>
      `;const F=document.createElement("div");F.id=`${y}-pane`,F.style.display=A?"block":"none",F.innerHTML=C.innerHTML,u.appendChild(F),R.addEventListener("click",j=>{var W;j.preventDefault(),l.querySelectorAll(".mdc-tab").forEach(H=>{var K;H.classList.remove("mdc-tab--active"),(K=H.querySelector(".mdc-tab-indicator"))==null||K.classList.remove("mdc-tab-indicator--active")}),R.classList.add("mdc-tab--active"),(W=R.querySelector(".mdc-tab-indicator"))==null||W.classList.add("mdc-tab-indicator--active"),Array.from(u.children).forEach(H=>H.style.display="none"),F.style.display="block",console.log(`[MaterialAdapter] Switched to tab: ${E}`)}),l.appendChild(R)}),c.appendChild(l),a.appendChild(c),s.appendChild(a);const m=document.createDocumentFragment();m.appendChild(s),m.appendChild(u),t.replaceWith(m),this.appliedSet.add(s)})}mapFormGroups(){const e=this.getMapping("formGroup");if(!e)return;const r=document.querySelectorAll(".cd-form-field");L("[MaterialDesignAdapter] mapFormGroups()",{count:r.length}),r.forEach(i=>{this.applyMappingToElement(i,e);try{this.prepareMdcDom(i)}catch{}})}mapOtherConcepts(){const e=this.descriptor&&this.descriptor.conceptMappings||{},t=Object.keys(e).filter(r=>!["button","input","formGroup"].includes(r));L("[MaterialDesignAdapter] mapOtherConcepts()",{concepts:t}),t.forEach(r=>{const i=e[r],o=`[data-cd-${r}], .cd-${r}`;document.querySelectorAll(o).forEach(a=>{this.applyMappingToElement(a,i);try{this.prepareMdcDom(a)}catch{}})})}onMutation(e){this._mutationCallback=e}mapAll(){var e;console.log("%c[MaterialDesignAdapter] mapAll()  START","background:#223;color:#9cf;padding:2px");try{(e=this._mutationCallback)==null||e.call(this),this.mapButtons(),this.mapInputs(),this.mapFormGroups(),this.mapTabs(),this.mapOtherConcepts(),this.scheduleMdcInit()}catch(t){console.warn("[MaterialDesignAdapter] mapAll error",t)}console.log("%c[MaterialDesignAdapter] mapAll()  END","background:#223;color:#9cf;padding:2px")}observeMutations(){var e;if(!this.observer){(e=this._mutationCallback)==null||e.call(this),L("[MaterialDesignAdapter] MutationObserver ATTACH"),this.observer=new MutationObserver(t=>{"requestIdleCallback"in window?window.requestIdleCallback(()=>this.mapAll()):setTimeout(()=>this.mapAll(),24)});try{this.observer.observe(document.body,{childList:!0,subtree:!0,attributes:!1})}catch(t){console.warn("[MaterialDesignAdapter] observer failed to attach",t),this.observer=null}}}}Ae.register("material-design",new Ii);const nl=Object.freeze(Object.defineProperty({__proto__:null,MaterialDesignAdapterService:Ii},Symbol.toStringTag,{value:"Module"}));class il{setMeta(e){this.meta=e}async activate(e){console.log(`[${this.constructor.name}] activate() descriptor.id =`,e==null?void 0:e.id),console.log(`[${this.constructor.name}] activate() descriptor.version =`,e==null?void 0:e.version)}async deactivate(){document.documentElement.removeAttribute("data-md-theme")}async applyTheme(e){if(!e)return;const t=typeof e=="string"?e:e.mode;t==="dark"?(document.documentElement.classList.add("md-dark"),document.documentElement.classList.remove("md-light")):(document.documentElement.classList.remove("md-dark"),document.documentElement.classList.add("md-light")),console.log("[MaterialAdapter] applyTheme:",t)}}const ol=Object.freeze(Object.defineProperty({__proto__:null,PlainAdapterService:il},Symbol.toStringTag,{value:"Module"}));class sl{constructor(){this.logger=new De}assertValid(e){if(!e)throw new Error("[UiAdapterValidator] Adapter instance is null");this.assertMethod(e,"getMeta"),this.assertMethod(e,"getCapabilities"),this.assertMethod(e,"activate");const t=e.getMeta();this.assertMeta(t),this.logger.debug("[UiAdapterValidator]","Adapter validated successfully",t)}assertMethod(e,t){if(typeof e[t]!="function")throw new Error(`[UiAdapterValidator] Missing required method: ${t}()`)}assertMeta(e){if(!e.id||!e.name||!e.version)throw new Error("[UiAdapterValidator] Adapter meta is incomplete")}}const Br=class Br{static discoverAndRegister(){const e=new sl,t=Object.assign({"../../../app/ui-adaptor-port/services/bootstrap-538-adapter.service.ts":tl,"../../../app/ui-adaptor-port/services/bulma-adapter.service.ts":rl,"../../../app/ui-adaptor-port/services/material-design-adapter.service.ts":nl,"../../../app/ui-adaptor-port/services/plain-adapter.service.ts":ol});this.logger.debug("[UiAdapterDiscovery] Raw Modules found:",t);const r=Object.keys(t);if(!r.length)throw this.logger.error("Glob failed. Current directory hint:",import.meta.url),new Error("[BOOT] No UI adapters discovered. Check glob path casing and relative depth.");for(const i of r){const o=t[i],s=(o==null?void 0:o.default)||o[Object.keys(o)[0]];if(!s||typeof s!="function"){this.logger.warn("Module found but no valid class export detected",{path:i});continue}try{const a=new s;if(typeof a.getMeta!="function"){this.logger.warn("Adapter instance missing getMeta()",{path:i});continue}const c=a.getMeta();e.assertValid(a),Ae.register(c.id,a),this.logger.info("UI adapter registered",{id:c.id,version:c.version,path:i})}catch(a){this.logger.error("Failed to instantiate adapter",{path:i,error:a})}}}static tryRegister(e,t){if(wa(e))try{const r=new e;if(!this.validate(r)){console.warn("[UiAdapterDiscovery] Invalid adapter skipped:",t,r);return}const i=r.getMeta();Ae.register(i.id,r),console.info("[UiAdapterDiscovery] Registered adapter:",i.id,i.version)}catch(r){console.error("[UiAdapterDiscovery] Failed to register adapter:",t,r)}}static validate(e){const t=e.getMeta();return!!(t!=null&&t.id)&&!!(t!=null&&t.version)&&!!e.getCapabilities()}};Br.logger=new De;let Mr=Br;class al{constructor(){this.logger=new De,this.svUser=new el,this.svConfig=new et,this.svSysCache=new Ue(this.svConfig)}async init(){this.logger.debug("[Main] init(): starting"),typeof window>"u"?(this.logger.debug("[Main] Running in Node  awaiting ensureInitialized()"),await ct.ensureInitialized()):this.logger.debug("[Main] Running in browser  skipping ensureInitialized()"),this.svConfig=new et,this.svSysCache=new Ue(this.svConfig),this.svModule=new ct,this.svMenu=new Aa,this.svController=new ti,this.svTheme=new Sr;const e=await this.svConfig.loadConfig();e.logLevel&&this.logger.setLevel(e.logLevel),this.logger.debug("[Main] init(): completed")}async run(){this.svUiSystemLoader=Bt.getInstance(this.svSysCache),await this.svUiSystemLoader.showSplash(this.svConfig),this.logger.setLevel("debug"),this.logger.debug("starting bootstrapShell()"),L("Main.run() started");const e=await this.svConfig.loadShellConfig();e.logLevel&&this.logger.setLevel(e.logLevel),this.svSysCache.subscribe("shellConfig",(l,u)=>{console.log("%c[PHASE][Cache] shellConfig","color:#4CAF50",{source:u.source,version:u.version})});const t=await this.svUser.loginAnonUser(e.envConfig.clientContext.consumerToken);this.logger.debug("[Main.run] fx:",t),t!=null&&t.state&&t.data&&(this.consumerProfile=t.data.data.consumer.consumerProfile||null,this.userProfile=t.data.data.userData.userProfile||null),this.svUiSystemLoader=Bt.getInstance(this.svSysCache),this.svUiThemeLoader=Nt.getInstance(this.svSysCache),this.svSysCache.setLoaders(this.svUiSystemLoader,this.svUiThemeLoader),this.logger.debug("[Main] Discovering UI system adapters"),Mr.discoverAndRegister();const r=Ae.list();if(this.logger.debug("[Main] UI adapters registered",r),!r.length)throw new Error("[BOOT] No UI adapters discovered. Check discovery paths.");await this.svSysCache.loadAndCacheAll(),L("Cache loaded (static)"),this.resolvedShellConfig=await this.svConfig.promoteResolvedShellConfig(this.svSysCache,this.consumerProfile,this.userProfile),this.logger.debug("[Main] Shell config promoted",this.resolvedShellConfig),this.svSysCache.applyResolvedShellConfig(this.resolvedShellConfig);const i=this.resolvedShellConfig;this.svSysCache.hasConsumerContext()||this.logger.info("[UI] Running in consumer-less mode"),await this.svUiSystemLoader.bootstrapUiSystemAndTheme(this.svSysCache);const o=await this.svTheme.loadThemeConfig();L("ThemeConfig loaded",o),document.title=i.appName||i.fallbackTitle||"Corpdesk";const s=document.getElementById("cd-logo");s&&o.logo&&(s.src=o.logo);const{preparedMenu:a,defaultModule:c}=await this.svMenu.structMenu();await this.svUiSystemLoader.renderSidebar(this.svMenu,a,i),await this.svController.loadDefaultController(this.svMenu,a,c),this.svUiSystemLoader.setupMobileUx(),this.logger.debug("[Main] app fully bootstrapped"),this.svUiSystemLoader.appReady=!0,this.svUiSystemLoader.tryHideSplash(),L("Main.run() complete")}}console.log("start 1");const Pi=new al;Pi.init();Pi.run().catch(n=>{console.error("[BOOTSTRAP ERROR]",n)});const cl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ll=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ul=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),fl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),pl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),hl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ml=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),yl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),gl=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{et as C,Ue as S,Bt as U,Nt as a,$t as b,_i as c,Hn as d,pt as e,vl as g,lt as t,Ze as u};
