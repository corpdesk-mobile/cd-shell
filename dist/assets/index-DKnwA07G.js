const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/url-DZPm327d.js","assets/index-CCs3NjLB.js","assets/index-DoOMClkx.js","assets/dayjs.min-C47XFJE1.js","assets/index-Cu7QyKko.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}function mt(w){if(w.__esModule)return w;var e=w.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(w).forEach(function(i){var s=Object.getOwnPropertyDescriptor(w,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return w[i]}})}),n}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var he;(function(w){(function(e){var n=typeof globalThis=="object"?globalThis:typeof fe=="object"?fe:typeof self=="object"?self:typeof this=="object"?this:l(),i=s(w);typeof n.Reflect<"u"&&(i=s(n.Reflect,i)),e(i,n),typeof n.Reflect>"u"&&(n.Reflect=w);function s(m,_){return function(v,S){Object.defineProperty(m,v,{configurable:!0,writable:!0,value:S}),_&&_(v,S)}}function u(){try{return Function("return this;")()}catch{}}function h(){try{return(0,eval)("(function() { return this; })()")}catch{}}function l(){return u()||h()}})(function(e,n){var i=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",u=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",h=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",l=typeof Object.create=="function",m={__proto__:[]}instanceof Array,_=!l&&!m,v={create:l?function(){return J(Object.create(null))}:m?function(){return J({__proto__:null})}:function(){return J({})},has:_?function(t,r){return i.call(t,r)}:function(t,r){return r in t},get:_?function(t,r){return i.call(t,r)?t[r]:void 0}:function(t,r){return t[r]}},S=Object.getPrototypeOf(Function),L=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ze(),A=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Fe(),$=typeof WeakMap=="function"?WeakMap:Be(),R=s?Symbol.for("@reflect-metadata:registry"):void 0,z=Re(),Z=De(z);function ye(t,r,o,a){if(y(o)){if(!ie(t))throw new TypeError;if(!oe(r))throw new TypeError;return Pe(t,r)}else{if(!ie(t))throw new TypeError;if(!P(r))throw new TypeError;if(!P(a)&&!y(a)&&!D(a))throw new TypeError;return D(a)&&(a=void 0),o=x(o),Ce(t,r,o,a)}}e("decorate",ye);function we(t,r){function o(a,p){if(!P(a))throw new TypeError;if(!y(p)&&!xe(p))throw new TypeError;K(t,r,a,p)}return o}e("metadata",we);function be(t,r,o,a){if(!P(o))throw new TypeError;return y(a)||(a=x(a)),K(t,r,o,a)}e("defineMetadata",be);function _e(t,r,o){if(!P(r))throw new TypeError;return y(o)||(o=x(o)),Q(t,r,o)}e("hasMetadata",_e);function Me(t,r,o){if(!P(r))throw new TypeError;return y(o)||(o=x(o)),G(t,r,o)}e("hasOwnMetadata",Me);function Se(t,r,o){if(!P(r))throw new TypeError;return y(o)||(o=x(o)),X(t,r,o)}e("getMetadata",Se);function Ee(t,r,o){if(!P(r))throw new TypeError;return y(o)||(o=x(o)),Y(t,r,o)}e("getOwnMetadata",Ee);function Te(t,r){if(!P(t))throw new TypeError;return y(r)||(r=x(r)),ee(t,r)}e("getMetadataKeys",Te);function Oe(t,r){if(!P(t))throw new TypeError;return y(r)||(r=x(r)),te(t,r)}e("getOwnMetadataKeys",Oe);function Le(t,r,o){if(!P(r))throw new TypeError;if(y(o)||(o=x(o)),!P(r))throw new TypeError;y(o)||(o=x(o));var a=V(r,o,!1);return y(a)?!1:a.OrdinaryDeleteMetadata(t,r,o)}e("deleteMetadata",Le);function Pe(t,r){for(var o=t.length-1;o>=0;--o){var a=t[o],p=a(r);if(!y(p)&&!D(p)){if(!oe(p))throw new TypeError;r=p}}return r}function Ce(t,r,o,a){for(var p=t.length-1;p>=0;--p){var T=t[p],C=T(r,o,a);if(!y(C)&&!D(C)){if(!P(C))throw new TypeError;a=C}}return a}function Q(t,r,o){var a=G(t,r,o);if(a)return!0;var p=W(r);return D(p)?!1:Q(t,p,o)}function G(t,r,o){var a=V(r,o,!1);return y(a)?!1:re(a.OrdinaryHasOwnMetadata(t,r,o))}function X(t,r,o){var a=G(t,r,o);if(a)return Y(t,r,o);var p=W(r);if(!D(p))return X(t,p,o)}function Y(t,r,o){var a=V(r,o,!1);if(!y(a))return a.OrdinaryGetOwnMetadata(t,r,o)}function K(t,r,o,a){var p=V(o,a,!0);p.OrdinaryDefineOwnMetadata(t,r,o,a)}function ee(t,r){var o=te(t,r),a=W(t);if(a===null)return o;var p=ee(a,r);if(p.length<=0)return o;if(o.length<=0)return p;for(var T=new A,C=[],b=0,c=o;b<c.length;b++){var d=c[b],f=T.has(d);f||(T.add(d),C.push(d))}for(var g=0,M=p;g<M.length;g++){var d=M[g],f=T.has(d);f||(T.add(d),C.push(d))}return C}function te(t,r){var o=V(t,r,!1);return o?o.OrdinaryOwnMetadataKeys(t,r):[]}function ne(t){if(t===null)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return t===null?1:6;default:return 6}}function y(t){return t===void 0}function D(t){return t===null}function ke(t){return typeof t=="symbol"}function P(t){return typeof t=="object"?t!==null:typeof t=="function"}function je(t,r){switch(ne(t)){case 0:return t;case 1:return t;case 2:return t;case 3:return t;case 4:return t;case 5:return t}var o="string",a=se(t,u);if(a!==void 0){var p=a.call(t,o);if(P(p))throw new TypeError;return p}return Ae(t)}function Ae(t,r){var o,a,p;{var T=t.toString;if(F(T)){var a=T.call(t);if(!P(a))return a}var o=t.valueOf;if(F(o)){var a=o.call(t);if(!P(a))return a}}throw new TypeError}function re(t){return!!t}function Ie(t){return""+t}function x(t){var r=je(t);return ke(r)?r:Ie(r)}function ie(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:Object.prototype.toString.call(t)==="[object Array]"}function F(t){return typeof t=="function"}function oe(t){return typeof t=="function"}function xe(t){switch(ne(t)){case 3:return!0;case 4:return!0;default:return!1}}function U(t,r){return t===r||t!==t&&r!==r}function se(t,r){var o=t[r];if(o!=null){if(!F(o))throw new TypeError;return o}}function ae(t){var r=se(t,h);if(!F(r))throw new TypeError;var o=r.call(t);if(!P(o))throw new TypeError;return o}function le(t){return t.value}function ce(t){var r=t.next();return r.done?!1:r}function ue(t){var r=t.return;r&&r.call(t)}function W(t){var r=Object.getPrototypeOf(t);if(typeof t!="function"||t===S||r!==S)return r;var o=t.prototype,a=o&&Object.getPrototypeOf(o);if(a==null||a===Object.prototype)return r;var p=a.constructor;return typeof p!="function"||p===t?r:p}function $e(){var t;!y(R)&&typeof n.Reflect<"u"&&!(R in n.Reflect)&&typeof n.Reflect.defineMetadata=="function"&&(t=Ve(n.Reflect));var r,o,a,p=new $,T={registerProvider:C,getProvider:c,setProvider:f};return T;function C(g){if(!Object.isExtensible(T))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case t===g:break;case y(r):r=g;break;case r===g:break;case y(o):o=g;break;case o===g:break;default:a===void 0&&(a=new A),a.add(g);break}}function b(g,M){if(!y(r)){if(r.isProviderFor(g,M))return r;if(!y(o)){if(o.isProviderFor(g,M))return r;if(!y(a))for(var E=ae(a);;){var O=ce(E);if(!O)return;var I=le(O);if(I.isProviderFor(g,M))return ue(E),I}}}if(!y(t)&&t.isProviderFor(g,M))return t}function c(g,M){var E=p.get(g),O;return y(E)||(O=E.get(M)),y(O)&&(O=b(g,M),y(O)||(y(E)&&(E=new L,p.set(g,E)),E.set(M,O))),O}function d(g){if(y(g))throw new TypeError;return r===g||o===g||!y(a)&&a.has(g)}function f(g,M,E){if(!d(E))throw new Error("Metadata provider not registered.");var O=c(g,M);if(O!==E){if(!y(O))return!1;var I=p.get(g);y(I)&&(I=new L,p.set(g,I)),I.set(M,E)}return!0}}function Re(){var t;return!y(R)&&P(n.Reflect)&&Object.isExtensible(n.Reflect)&&(t=n.Reflect[R]),y(t)&&(t=$e()),!y(R)&&P(n.Reflect)&&Object.isExtensible(n.Reflect)&&Object.defineProperty(n.Reflect,R,{enumerable:!1,configurable:!1,writable:!1,value:t}),t}function De(t){var r=new $,o={isProviderFor:function(d,f){var g=r.get(d);return y(g)?!1:g.has(f)},OrdinaryDefineOwnMetadata:C,OrdinaryHasOwnMetadata:p,OrdinaryGetOwnMetadata:T,OrdinaryOwnMetadataKeys:b,OrdinaryDeleteMetadata:c};return z.registerProvider(o),o;function a(d,f,g){var M=r.get(d),E=!1;if(y(M)){if(!g)return;M=new L,r.set(d,M),E=!0}var O=M.get(f);if(y(O)){if(!g)return;if(O=new L,M.set(f,O),!t.setProvider(d,f,o))throw M.delete(f),E&&r.delete(d),new Error("Wrong provider for target.")}return O}function p(d,f,g){var M=a(f,g,!1);return y(M)?!1:re(M.has(d))}function T(d,f,g){var M=a(f,g,!1);if(!y(M))return M.get(d)}function C(d,f,g,M){var E=a(g,M,!0);E.set(d,f)}function b(d,f){var g=[],M=a(d,f,!1);if(y(M))return g;for(var E=M.keys(),O=ae(E),I=0;;){var de=ce(O);if(!de)return g.length=I,g;var He=le(de);try{g[I]=He}catch(Ne){try{ue(O)}finally{throw Ne}}I++}}function c(d,f,g){var M=a(f,g,!1);if(y(M)||!M.delete(d))return!1;if(M.size===0){var E=r.get(f);y(E)||(E.delete(g),E.size===0&&r.delete(E))}return!0}}function Ve(t){var r=t.defineMetadata,o=t.hasOwnMetadata,a=t.getOwnMetadata,p=t.getOwnMetadataKeys,T=t.deleteMetadata,C=new $,b={isProviderFor:function(c,d){var f=C.get(c);return!y(f)&&f.has(d)?!0:p(c,d).length?(y(f)&&(f=new A,C.set(c,f)),f.add(d),!0):!1},OrdinaryDefineOwnMetadata:r,OrdinaryHasOwnMetadata:o,OrdinaryGetOwnMetadata:a,OrdinaryOwnMetadataKeys:p,OrdinaryDeleteMetadata:T};return b}function V(t,r,o){var a=z.getProvider(t,r);if(!y(a))return a;if(o){if(z.setProvider(t,r,Z))return Z;throw new Error("Illegal state.")}}function ze(){var t={},r=[],o=function(){function b(c,d,f){this._index=0,this._keys=c,this._values=d,this._selector=f}return b.prototype["@@iterator"]=function(){return this},b.prototype[h]=function(){return this},b.prototype.next=function(){var c=this._index;if(c>=0&&c<this._keys.length){var d=this._selector(this._keys[c],this._values[c]);return c+1>=this._keys.length?(this._index=-1,this._keys=r,this._values=r):this._index++,{value:d,done:!1}}return{value:void 0,done:!0}},b.prototype.throw=function(c){throw this._index>=0&&(this._index=-1,this._keys=r,this._values=r),c},b.prototype.return=function(c){return this._index>=0&&(this._index=-1,this._keys=r,this._values=r),{value:c,done:!0}},b}(),a=function(){function b(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(b.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),b.prototype.has=function(c){return this._find(c,!1)>=0},b.prototype.get=function(c){var d=this._find(c,!1);return d>=0?this._values[d]:void 0},b.prototype.set=function(c,d){var f=this._find(c,!0);return this._values[f]=d,this},b.prototype.delete=function(c){var d=this._find(c,!1);if(d>=0){for(var f=this._keys.length,g=d+1;g<f;g++)this._keys[g-1]=this._keys[g],this._values[g-1]=this._values[g];return this._keys.length--,this._values.length--,U(c,this._cacheKey)&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},b.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},b.prototype.keys=function(){return new o(this._keys,this._values,p)},b.prototype.values=function(){return new o(this._keys,this._values,T)},b.prototype.entries=function(){return new o(this._keys,this._values,C)},b.prototype["@@iterator"]=function(){return this.entries()},b.prototype[h]=function(){return this.entries()},b.prototype._find=function(c,d){if(!U(this._cacheKey,c)){this._cacheIndex=-1;for(var f=0;f<this._keys.length;f++)if(U(this._keys[f],c)){this._cacheIndex=f;break}}return this._cacheIndex<0&&d&&(this._cacheIndex=this._keys.length,this._keys.push(c),this._values.push(void 0)),this._cacheIndex},b}();return a;function p(b,c){return b}function T(b,c){return c}function C(b,c){return[b,c]}}function Fe(){var t=function(){function r(){this._map=new L}return Object.defineProperty(r.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),r.prototype.has=function(o){return this._map.has(o)},r.prototype.add=function(o){return this._map.set(o,o),this},r.prototype.delete=function(o){return this._map.delete(o)},r.prototype.clear=function(){this._map.clear()},r.prototype.keys=function(){return this._map.keys()},r.prototype.values=function(){return this._map.keys()},r.prototype.entries=function(){return this._map.entries()},r.prototype["@@iterator"]=function(){return this.keys()},r.prototype[h]=function(){return this.keys()},r}();return t}function Be(){var t=16,r=v.create(),o=a();return function(){function c(){this._key=a()}return c.prototype.has=function(d){var f=p(d,!1);return f!==void 0?v.has(f,this._key):!1},c.prototype.get=function(d){var f=p(d,!1);return f!==void 0?v.get(f,this._key):void 0},c.prototype.set=function(d,f){var g=p(d,!0);return g[this._key]=f,this},c.prototype.delete=function(d){var f=p(d,!1);return f!==void 0?delete f[this._key]:!1},c.prototype.clear=function(){this._key=a()},c}();function a(){var c;do c="@@WeakMap@@"+b();while(v.has(r,c));return r[c]=!0,c}function p(c,d){if(!i.call(c,o)){if(!d)return;Object.defineProperty(c,o,{value:v.create()})}return c[o]}function T(c,d){for(var f=0;f<d;++f)c[f]=Math.random()*255|0;return c}function C(c){if(typeof Uint8Array=="function"){var d=new Uint8Array(c);return typeof crypto<"u"?crypto.getRandomValues(d):typeof msCrypto<"u"?msCrypto.getRandomValues(d):T(d,c),d}return T(new Array(c),c)}function b(){var c=C(t);c[6]=c[6]&79|64,c[8]=c[8]&191|128;for(var d="",f=0;f<t;++f){var g=c[f];(f===4||f===6||f===8)&&(d+="-"),g<16&&(d+="0"),d+=g.toString(16).toLowerCase()}return d}}function J(t){return t.__=void 0,delete t.__,t}})})(he||(he={}));/*!
* metismenujs - v1.4.0
* MetisMenu: Collapsible menu plugin with Vanilla-JS
* https://github.com/onokumus/metismenujs#readme
*
* Made by Osman Nuri Okumus <onokumus@gmail.com> (https://github.com/onokumus)
* Under MIT License
*/const qe={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},B={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class N{constructor(e,n){this.element=N.isElement(e)?e:document.querySelector(e),this.config=Object.assign(Object.assign({},qe),n),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(e,n){return new N(e,n)}init(){const{METIS:e,ACTIVE:n,COLLAPSE:i}=B;this.element.classList.add(e);const s=[...this.element.querySelectorAll(this.config.subMenu)];s.length!==0&&s.forEach(u=>{u.classList.add(i);const h=u.closest(this.config.parentTrigger);h!=null&&h.classList.contains(n)?this.show(u):this.hide(u);const l=h==null?void 0:h.querySelector(this.config.triggerElement);(l==null?void 0:l.getAttribute("aria-disabled"))!=="true"&&(l==null||l.setAttribute("aria-expanded","false"),l==null||l.addEventListener("click",this.boundEventHandler),this.triggerArr.push(l))})}clickEvent(e){if(!this.disposed){const n=e==null?void 0:e.currentTarget;n&&n.tagName==="A"&&e.preventDefault();const i=n.closest(this.config.parentTrigger),s=i==null?void 0:i.querySelector(this.config.subMenu);this.toggle(s)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(e=>{e.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(e,n,i){return this.element.addEventListener(e,n,i),this}off(e,n,i){return this.element.removeEventListener(e,n,i),this}emit(e,n,i=!1){const s=new CustomEvent(e,{bubbles:i,detail:n});this.element.dispatchEvent(s)}toggle(e){const n=e.closest(this.config.parentTrigger);n!=null&&n.classList.contains(B.ACTIVE)?this.hide(e):this.show(e)}show(e){var n;const i=e,{ACTIVE:s,COLLAPSE:u,COLLAPSED:h,COLLAPSING:l,SHOW:m}=B;if(this.isTransitioning||i.classList.contains(l))return;const _=()=>{i.classList.remove(l),i.style.height="",i.removeEventListener("transitionend",_),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:i})},v=i.closest(this.config.parentTrigger);v==null||v.classList.add(s);const S=v==null?void 0:v.querySelector(this.config.triggerElement);S==null||S.setAttribute("aria-expanded","true"),S==null||S.classList.remove(h),i.style.height="0px",i.classList.remove(u),i.classList.remove(m),i.classList.add(l);const L=[].slice.call((n=v==null?void 0:v.parentNode)===null||n===void 0?void 0:n.children).filter(A=>A!==v);this.config.toggle&&L.length>0&&L.forEach(A=>{const $=A.querySelector(this.config.subMenu);$&&this.hide($)}),this.setTransitioning(!0),i.classList.add(u),i.classList.add(m),i.style.height=`${i.scrollHeight}px`,this.emit("show.metisMenu",{showElement:i}),i.addEventListener("transitionend",_)}hide(e){const{ACTIVE:n,COLLAPSE:i,COLLAPSED:s,COLLAPSING:u,SHOW:h}=B,l=e;if(this.isTransitioning||!l.classList.contains(h))return;this.emit("hide.metisMenu",{hideElement:l});const m=l.closest(this.config.parentTrigger);m==null||m.classList.remove(n);const _=()=>{l.classList.remove(u),l.classList.add(i),l.style.height="",l.removeEventListener("transitionend",_),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:l})};l.style.height=`${l.getBoundingClientRect().height}px`,l.style.height=`${l.offsetHeight}px`,l.classList.add(u),l.classList.remove(i),l.classList.remove(h),this.setTransitioning(!0),l.addEventListener("transitionend",_),l.style.height="0px";const v=m==null?void 0:m.querySelector(this.config.triggerElement);v==null||v.setAttribute("aria-expanded","false"),v==null||v.classList.add(s)}setTransitioning(e){this.isTransitioning=e}static isElement(e){return!!e.classList}}function ge(w){return new Promise((e,n)=>{if(document.querySelector(`link[href="${w}"]`))return e();const i=document.createElement("link");i.rel="stylesheet",i.href=w,i.onload=()=>e(),i.onerror=()=>n(new Error(`Failed to load CSS: ${w}`)),document.head.appendChild(i)})}function Ge(w){return new Promise((e,n)=>{if(document.querySelector(`script[src="${w}"]`))return e();const i=document.createElement("script");i.src=w,i.async=!0,i.onload=()=>e(),i.onerror=()=>n(new Error(`Failed to load script: ${w}`)),document.head.appendChild(i)})}class Ue{constructor(){this.instance=null}async initialize(e,n){await ge("https://cdn.jsdelivr.net/npm/metismenujs/dist/metismenujs.min.css"),await Ge("https://cdn.jsdelivr.net/npm/metismenujs/dist/metismenujs.min.js"),await ge(`/themes/${n}/menu-systems/metismenu.css`);const i=document.getElementById(e);if(!i)return;const s=i.querySelector("ul.cd-menu-root");s&&(this.transformForMetisMenu(s),this.instance=new N("#menu"))}destroy(){}transformForMetisMenu(e){e.classList.remove("cd-menu-root"),e.classList.add("metismenu"),e.setAttribute("id","menu"),e.querySelectorAll(".cd-menu-item").forEach(n=>{const i=n.querySelector(".cd-menu-label"),s=n.getAttribute("data-route")||"#",u=n.getAttribute("data-icon"),h=n.querySelector("ul");let l=null;if(u)try{const m=atob(u);l=JSON.parse(m)}catch(m){console.warn("Failed to decode or parse icon metadata",m)}if(i){const m=document.createElement("a");if(m.href=h?"#":`/${s}`,m.classList.add("menu-link"),l){const v=this.createIconElement(l);v&&(v.classList.add("menu-icon"),m.appendChild(v))}const _=document.createElement("span");if(_.textContent=i.textContent||"",m.appendChild(_),h){m.classList.add("has-arrow"),m.setAttribute("aria-expanded","false");const v=document.createElement("i");v.classList.add("menu-arrow","fa-solid","fa-chevron-right"),m.appendChild(v)}i.replaceWith(m)}n.classList.remove("cd-menu-item")}),e.querySelectorAll("ul.cd-submenu").forEach(n=>{n.classList.remove("cd-submenu")})}createIconElement(e){if(!e.iconType)return null;const n=this.getCurrentThemeMenu(),i=(n==null?void 0:n.iconSize)??14,s=(n==null?void 0:n.iconColor)??"#444";switch(e.iconType){case"fontawesome":{const u=document.createElement("i");return u.className=e.icon,u.style.color=s,u.style.fontSize=`${i}px`,u}case"svg":{const u=document.createElement("span");u.innerHTML=e.icon;const h=u.firstElementChild;return h&&(h.style.color=s,h.style.width=`${i}px`,h.style.height=`${i}px`),h}case"string":{const u=document.createElement("span");return u.textContent=e.icon,u.style.color=s,u.style.fontSize=`${i}px`,u}default:return null}}getCurrentThemeMenu(){var e,n;try{const i=localStorage.getItem("cd-theme"),s=i?JSON.parse(i):null;return(n=(e=s==null?void 0:s.layout)==null?void 0:e.sidebar)==null?void 0:n.menu}catch{return}}}class We{constructor(){this.currentAdapter=null}renderMenuWithSystem(e,n,i="cd-sidebar"){var h,l,m,_;this.renderPlainMenu(e,i);const s=((m=(l=(h=n==null?void 0:n.layout)==null?void 0:h.sidebar)==null?void 0:l.menu)==null?void 0:m.menuSystem)||"plain",u=this.menuAdapterFactory(s);(_=this.currentAdapter)!=null&&_.destroy&&this.currentAdapter.destroy(),u&&(u.initialize(i,n.id),this.currentAdapter=u)}renderPlainMenu(e,n="sidebar",i){const s=document.getElementById(n);s&&(s.innerHTML=`<ul class="cd-menu-root">${this.renderMenuHtml(e)}</ul>`,this.attachClickHandlers(s,e,i))}attachClickHandlers(e,n,i){const s=e.querySelectorAll(".cd-menu-item");this.walkMenu(n,e,s,0,i)}walkMenu(e,n,i,s,u){var h;for(const l of e){const m=i[s++];m&&m.addEventListener("click",_=>{_.stopPropagation(),this.onMenuClick(l,u)}),(h=l.children)!=null&&h.length&&this.walkMenu(l.children,m,i,s,u)}}onMenuClick(e,n){if(e.itemType==="action"&&e.action){e.action();return}if(e.itemType==="template"&&e.template){this.loadResource({cdToken:n,item:e});return}e.itemType==="route"&&e.route&&e.route&&(window.location.hash=e.route)}loadResource(e={}){var s,u;const{cdToken:n,item:i}=e;if(i!=null&&i.template){const h=typeof i.template=="function"?i.template():i.template,l=document.getElementById("cd-main-content");if(l){l.innerHTML=h;const m=i.controller;m!=null&&m.__setup&&typeof m.__setup=="function"&&m.__setup()}}(u=(s=window.cdShell)==null?void 0:s.lifecycle)!=null&&u.onViewLoaded&&window.cdShell.lifecycle.onViewLoaded(i,n)}renderMenuHtml(e){return e.map(n=>{const i=n.children&&n.children.length>0,s=n.route||"",u=n.icon?btoa(JSON.stringify(n.icon)):"";return`
        <li 
          class="cd-menu-item" 
          data-route="${s}" 
          ${u?`data-icon="${u}"`:""}
        >
          <span class="cd-menu-label">${n.label}</span>
          ${i?`<ul class="cd-submenu">${this.renderMenuHtml(n.children)}</ul>`:""}
        </li>
      `}).join("")}menuAdapterFactory(e){switch(e){case"metismenu":return new Ue;case"plain":default:return null}}}class Je{constructor(e={}){this.context=e.context||"Shell",this.level=e.level||"debug",this.silent=e.silent||!1}shouldLog(e){const n={debug:0,info:1,warn:2,error:3};return n[e]>=n[this.level]}log(e,n,...i){if(this.silent||!this.shouldLog(e))return;const s=`[${this.context.toUpperCase()}] [${e.toUpperCase()}]`;switch(e){case"debug":console.debug(s,n,...i);break;case"info":console.info(s,n,...i);break;case"warn":console.warn(s,n,...i);break;case"error":console.error(s,n,...i);break}}debug(e,...n){this.log("debug",e,...n)}info(e,...n){this.log("info",e,...n)}warn(e,...n){this.log("warn",e,...n)}error(e,...n){this.log("error",e,...n)}setContext(e){this.context=e}setLevel(e){this.level=e}silence(){this.silent=!0}unsilence(){this.silent=!1}}class Ze{static setActiveTheme(e){this.currentTheme=e}static get layout(){var e;return((e=this.currentTheme)==null?void 0:e.layout)||{}}async loadThemeConfig(){console.debug("ThemeService::loadThemeConfig(): 01");const e=await fetch("/themes/default/theme.json");if(console.debug("ThemeService::loadThemeConfig(): 01"),console.debug("ThemeService::loadThemeConfig()/res:",e),!e.ok)throw console.debug("ThemeService::loadThemeConfig(): 02"),new Error(`ThemeService::loadThemeConfig:Failed to load shell config: ${e.statusText}`);return console.debug("ThemeService::loadThemeConfig(): 03"),e.json()}}const Qe={accessibleThemes:["default","dark","contrast"]},Xe={themeConfig:Qe};class Ye{async loadTheme(e="default"){console.debug("loadTheme(): loading theme ID:",e);const n=`/themes/${e}/theme.json`,i=await fetch(n);if(!i.ok){const h=await i.text();throw new Error(`Theme fetch failed: ${i.status} ${i.statusText}. Body: ${h}`)}const s=await i.json();if(!Xe.themeConfig.accessibleThemes.includes(e))throw new Error(`Theme "${e}" is not accessible as per shell configuration.`);if(s.authorizationGuid&&!this.isAuthorized(s.authorizationGuid))throw new Error(`User is not authorized to use theme: ${s.name}`);this.applyTheme("default",s),console.debug("Theme loaded successfully:",e)}isAuthorized(e){return!0}applyTheme(e,n){var h;if(!((h=n.layout.sidebar)!=null&&h.visible)){const l=document.getElementById("cd-sidebar");l&&(l.style.display="none")}Object.entries(n.colors).forEach(([l,m])=>{document.documentElement.style.setProperty(`--cd-${l}-color`,m)}),document.body.style.fontFamily=n.font||"sans-serif";const i=document.getElementById("cd-logo");i&&n.logo&&(i.src=n.logo);const s=document.getElementById("theme-css"),u=`/themes/${e}/theme.css`;if(s)s.href=u;else{const l=document.createElement("link");l.id="theme-css",l.rel="stylesheet",l.href=u,document.head.appendChild(l)}document.body.className="",document.body.classList.add(`theme-${e}`)}}const Ke="modulepreload",et=function(w){return"/"+w},me={},k=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),l=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=Promise.allSettled(n.map(m=>{if(m=et(m),m in me)return;me[m]=!0;const _=m.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const S=document.createElement("link");if(S.rel=_?"stylesheet":Ke,_||(S.as="script"),S.crossOrigin="",S.href=m,l&&S.setAttribute("nonce",l),document.head.appendChild(S),_)return new Promise((L,A)=>{S.addEventListener("load",L),S.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=h,window.dispatchEvent(l),!l.defaultPrevented)throw h}return s.then(h=>{for(const l of h||[])l.status==="rejected"&&u(l.reason);return e().catch(u)})};class tt{constructor(e){this.controller=e}bind(e=document){e&&(e.querySelectorAll("[cd-click]").forEach(n=>{const i=n.getAttribute("cd-click"),s=this.controller[i];typeof s=="function"&&n.addEventListener("click",s.bind(this.controller))}),e.querySelectorAll("[cd-model]").forEach(n=>{const i=n.getAttribute("cd-model");this.controller[i]!==void 0&&n instanceof HTMLInputElement&&(n.value=this.controller[i]),n.addEventListener("input",s=>{this.controller[i]=s.target.value})}))}unbind(e=document){}}let nt,H,ve;const rt=async()=>{if(typeof window>"u")try{const[w,e,n]=await Promise.all([k(()=>import("./__vite-browser-external_fs-DU1_jvsO.js"),[]),k(()=>import("./__vite-browser-external_path-SE2pKm0_.js"),[]),k(()=>import("./url-DZPm327d.js").then(i=>i.u),__vite__mapDeps([0,1]))]);nt=w,H=e,ve=n}catch(w){console.error("[ModuleService] Failed to load Node.js modules:",w)}},j=class j{constructor(){this.modules={},console.debug("[ModuleService][constructor]: starting"),this.isViteMode?(console.debug("[ModuleService] Running under Vite (browser)."),this.modules=Object.assign({"/src/CdShell/app/cd-ai/view/index.js":()=>k(()=>Promise.resolve().then(()=>ot),void 0),"/src/CdShell/app/cd-geo/view/index.js":()=>k(()=>import("./index-DIGhDJk_.js"),[]),"/src/CdShell/app/coops/view/index.js":()=>k(()=>import("./index-YhLg4ZnN.js"),[]),"/src/CdShell/sys/base/view/index.js":()=>k(()=>Promise.resolve().then(()=>st),void 0),"/src/CdShell/sys/cd-comm/view/index.js":()=>k(()=>import("./index-DoOMClkx.js"),__vite__mapDeps([2,3])),"/src/CdShell/sys/cd-push/view/index.js":()=>k(()=>import("./index-DMjNbz6u.js"),[]),"/src/CdShell/sys/cd-scheduler/view/index.js":()=>k(()=>Promise.resolve().then(()=>at),void 0),"/src/CdShell/sys/cd-store/view/index.js":()=>k(()=>Promise.resolve().then(()=>lt),void 0),"/src/CdShell/sys/cd-user/view/index.js":()=>k(()=>import("./index-Cu7QyKko.js").then(e=>e.bd),__vite__mapDeps([4,1,3])),"/src/CdShell/sys/dev-descriptor/view/index.js":()=>k(()=>Promise.resolve().then(()=>ct),void 0),"/src/CdShell/sys/dev-sync/view/index.js":()=>k(()=>import("./index-DvGMnDDL.js"),[]),"/src/CdShell/sys/guig/view/index.js":()=>k(()=>Promise.resolve().then(()=>ut),void 0),"/src/CdShell/sys/moduleman/view/index.js":()=>k(()=>Promise.resolve().then(()=>dt),void 0),"/src/CdShell/sys/theme/view/index.js":()=>k(()=>Promise.resolve().then(()=>ft),void 0),"/src/CdShell/sys/utils/view/index.js":()=>k(()=>Promise.resolve().then(()=>ht),void 0)})):console.debug("[ModuleService] Running under Node (non-Vite).")}static getInstance(){return j.instance||(j.instance=new j),j.instance}get isBrowser(){return typeof window<"u"}get isViteMode(){return this.isBrowser}get baseDir(){return this.isViteMode?"/src/CdShell":H==null?void 0:H.resolve(process.cwd(),"dist-ts/CdShell")}static async ensureInitialized(){this.initPromise||(this.initPromise=rt()),await this.initPromise}static async preloadModulesSequentially(){const e=j.getInstance();for(const n of this.preloadModules)try{console.debug(`[Preload] Loading ${n.moduleId}`);const i=await e.loadModule(n.ctx,n.moduleId);i!=null&&i.controller&&typeof i.controller.__setup=="function"&&(console.debug(`[Preload] Setting up ${n.component}`),await i.controller.__setup()),console.debug(`[Preload] Completed ${n.component}`)}catch(i){console.error(`[Preload] Failed ${n.moduleId}: ${i}`)}}async loadModule(e,n){var m;await j.ensureInitialized(),j.hasPreloaded||(j.hasPreloaded=!0,await j.preloadModulesSequentially()),console.debug("ModuleService::loadModule()/01:");const i=this.isViteMode,s=this.baseDir,u=i?`src/CdShell/${e}/${n}/view/index.js`:`${s}/${e}/${n}/view/index.js`;if(console.debug("[ModuleService] expectedPathFragment:",u),i){console.debug("[ModuleService] 1");const _=Object.keys(this.modules).find(v=>v.replace(/^\.?\//,"")===u);if(console.debug("[ModuleService] 2"),!_)throw console.error("[ModuleService] Available module keys:",Object.keys(this.modules)),new Error(`[ModuleService] Module not found for ctx=${e}, moduleId=${n}`);console.debug("[ModuleService] 3");try{const v=this.modules[_];console.debug("[ModuleService] 4");const S=await v();console.debug("[ModuleService] 5");const L=S.module;if(console.debug("[ModuleService] 6"),!L)throw new Error(`Missing 'module' export in: ${_}`);console.debug("[ModuleService] 7");const A=document.getElementById("cd-main-content");A&&(A.innerHTML=L.template),console.debug("[ModuleService] 8"),(m=L.controller)!=null&&m.__setup&&L.controller.__setup(),console.debug("[ModuleService] 9");const $=new tt(L.controller);return console.debug("[ModuleService] 10"),$.bind(A),console.debug("[ModuleService] 11"),console.log(`[ModuleService] Loaded '${n}' (Vite mode) at ${new Date().toLocaleString()}`),L}catch(v){throw console.debug("[ModuleService] 12"),console.error("[ModuleService] Browser import failed:",v),v}}const l=`${s.replace(/\\/g,"/").replace(/\/+$/,"")}/${e}/${n}/view/index.js`;console.debug("[ModuleService] Importing (Node):",l);try{const v=await import(ve.pathToFileURL(l).href);return console.log(`[ModuleService] Loaded '${n}' (Node mode) at ${new Date().toLocaleString()}`),v.module}catch(_){throw console.error("[ModuleService] Node import failed:",_),_}}};j.initPromise=null,j.hasPreloaded=!1,j.preloadModules=[{ctx:"sys",moduleId:"dev-sync",component:"IdeAgentService"},{ctx:"sys",moduleId:"dev-sync",component:"IdeAgentClientService"}];let q=j;class it{constructor(){this.logger=new Je}async init(){this.logger.debug("[Main] init(): starting"),typeof window>"u"?(this.logger.debug("[Main] Running in Node → awaiting ensureInitialized()"),await q.ensureInitialized()):this.logger.debug("[Main] Running in browser → skipping ensureInitialized()"),this.svModule=new q,this.svMenu=new We,this.svTheme=new Ze,this.svThemeLoader=new Ye;const e=await this.loadShellConfig();e.logLevel&&this.logger.setLevel(e.logLevel),this.logger.debug("[Main] init(): completed")}async run(){this.logger.setLevel("debug"),this.logger.debug("starting bootstrapShell()"),this.logger.debug("bootstrapShell()/01:");const e=await this.loadShellConfig();this.logger.debug("bootstrapShell()/02:"),e.logLevel&&this.logger.setLevel(e.logLevel),this.logger.debug("bootstrapShell()/03:");const n=await this.svTheme.loadThemeConfig();this.logger.debug("bootstrapShell()/04:"),this.logger.debug("bootstrapShell()/themeConfig:",n),document.title=e.appName||e.fallbackTitle||"Corpdesk",this.logger.debug("bootstrapShell()/05:");const i=document.getElementById("cd-logo");if(this.logger.debug("bootstrapShell()/06:"),i&&n.logo&&(i.src=n.logo),this.logger.debug("bootstrapShell()/07:"),n.colors.primary&&document.documentElement.style.setProperty("--theme-color",n.colors.primary),this.logger.debug("bootstrapShell()/08:"),e.defaultModulePath){this.logger.debug("bootstrapShell()/09:");const[l,m]=e.defaultModulePath.split("/");this.logger.debug("bootstrapShell()/ctx:",l),this.logger.debug("bootstrapShell()/moduleId:",m),this.logger.debug("bootstrapShell()/10:");const _=await this.svModule.loadModule(l,m);if(_.menu){this.logger.debug("Main::loadModule()/menu:",_.menu);const v=await fetch(e.themeConfig.currentThemePath);if(!v.ok){const L=await v.text();throw new Error(`Theme fetch failed: ${v.status} ${v.statusText}. Body: ${L}`)}const S=await v.json();this.logger.debug("Main::loadModule()/theme:",S),this.svMenu.renderMenuWithSystem(_.menu,S)}else this.logger.debug("Main::loadModule()/no menu to render");this.logger.debug("bootstrapShell()/11:")}this.svThemeLoader.loadTheme("default");const s=document.getElementById("cd-burger"),u=document.getElementById("cd-sidebar"),h=document.getElementById("cd-overlay");s.addEventListener("click",()=>{u.classList.toggle("open"),h.classList.toggle("hidden")}),h.addEventListener("click",()=>{u.classList.remove("open"),h.classList.add("hidden")})}async loadShellConfig(){const e=await fetch("/shell.config.json");if(!e.ok)throw new Error(`Failed to load shell config: ${e.statusText}`);return await e.json()}}console.log("start 1");const pe=new it;pe.init();pe.run().catch(w=>{console.error("[BOOTSTRAP ERROR]",w)});const ot=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),st=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),at=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),lt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ct=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ut=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),dt=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ft=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),ht=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{k as _,mt as a,fe as c,gt as g};
